import{r,a as w}from"./react-Bi3d65_o.js";import{C as y,L as P,B as T,P as k}from"./chart.js-B7ur4JDz.js";const j="label";function E(t,n){typeof t=="function"?t(n):t&&(t.current=n)}function O(t,n){t.labels=n}function R(t,n){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:j;const o=[];t.datasets=n.map(s=>{const u=t.datasets.find(i=>i[a]===s[a]);return u&&s.data&&!o.includes(u)?(o.push(u),Object.assign(u,s),u):{...s}})}function x(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j;const a={labels:[],datasets:[]};return O(a,t.labels),R(a,t.datasets,n),a}function I(t,n){const{height:a=150,width:o=300,redraw:s=!1,datasetIdKey:u,type:i,data:c,options:f,plugins:v=[],fallbackContent:B,updateMode:m,...C}=t,l=r.useRef(null),e=r.useRef(),d=()=>{l.current&&(e.current=new y(l.current,{type:i,data:x(c,u),options:f&&{...f},plugins:v}),E(n,e.current))},g=()=>{E(n,null),e.current&&(e.current.destroy(),e.current=null)};return r.useEffect(()=>{!s&&e.current&&f&&function(L,b){const h=L.options;h&&b&&Object.assign(h,b)}(e.current,f)},[s,f]),r.useEffect(()=>{!s&&e.current&&O(e.current.config.data,c.labels)},[s,c.labels]),r.useEffect(()=>{!s&&e.current&&c.datasets&&R(e.current.config.data,c.datasets,u)},[s,c.datasets]),r.useEffect(()=>{e.current&&(s?(g(),setTimeout(d)):e.current.update(m))},[s,f,c.labels,c.datasets,m]),r.useEffect(()=>{e.current&&(g(),setTimeout(d))},[i]),r.useEffect(()=>(d(),()=>g()),[]),w.createElement("canvas",Object.assign({ref:l,role:"img",height:a,width:o},C),B)}const K=r.forwardRef(I);function p(t,n){return y.register(n),r.forwardRef((a,o)=>w.createElement(K,Object.assign({},a,{ref:o,type:t})))}const z=p("line",P),A=p("bar",T),D=p("pie",k);export{A as B,z as L,D as P};
