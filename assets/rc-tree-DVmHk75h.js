import{d as Pe,f as te,e as G,k as ge,b as l,g as Q,h as $e,i as et,a as tt,j as g,_ as nt,c as ee,p as ot}from"./@babel-D4-ut-Uz.js";import{c as W}from"./classnames-BaEkKJlL.js";import{b as J,x as yt,y as ht,A as rt,u as ye,K as ae}from"./rc-util-C7705Oj_.js";import{r as D}from"./react-Bi3d65_o.js";import{L as gt}from"./rc-virtual-list-MHoChsUk.js";import{C as kt}from"./rc-motion-C1KiqwsE.js";function U(r,c){return r[c]}var Kt=["children"];function at(r,c){return"".concat(r,"-").concat(c)}function le(r,c){return r??c}function he(r){var c=r||{},N=c.title||"title";return{title:N,_title:c._title||[N],key:c.key||"key",children:c.children||"children"}}function mt(r){return function c(N){return yt(N).map(function(e){if(!function(a){return a&&a.type&&a.type.isTreeNode}(e))return J(!e,"Tree/TreeNode can only accept TreeNode as children."),null;var d=e.key,m=e.props,E=m.children,t=ge(m,Kt),n=G({key:d},t),o=c(E);return o.length&&(n.children=o),n}).filter(function(e){return e})}(r)}function De(r,c,N){var e=he(N),d=e._title,m=e.key,E=e.children,t=new Set(c===!0?[]:c),n=[];return function o(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return a.map(function(s,u){for(var K,x=at(i?i.pos:"0",u),p=le(s[m],x),y=0;y<d.length;y+=1){var h=d[y];if(s[h]!==void 0){K=s[h];break}}var v=Object.assign(ht(s,[].concat(te(d),[m,E])),{title:K,key:p,parent:i,pos:x,children:null,data:s,isStart:[].concat(te(i?i.isStart:[]),[u===0]),isEnd:[].concat(te(i?i.isEnd:[]),[u===a.length-1])});return n.push(v),c===!0||t.has(p)?v.children=o(s[E]||[],v):v.children=[],v})}(r),n}function Nt(r){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},N=c.initWrapper,e=c.processEntity,d=c.onProcessFinished,m=c.externalGetKey,E=c.childrenPropName,t=c.fieldNames,n=m||(arguments.length>2?arguments[2]:void 0),o={},a={},i={posEntities:o,keyEntities:a};return N&&(i=N(i)||i),function(s,u,K){var x,p=(Pe(K)==="object"?K:{externalGetKey:K})||{},y=p.childrenPropName,h=p.externalGetKey,v=he(p.fieldNames),f=v.key,S=v.children,w=y||S;h?typeof h=="string"?x=function(C){return C[h]}:typeof h=="function"&&(x=function(C){return h(C)}):x=function(C,k){return le(C[f],k)},function C(k,b,O,P){var L=k?k[w]:s,M=k?at(O.pos,b):"0",A=k?[].concat(te(P),[k]):[];if(k){var H=x(k,M),I={node:k,index:b,pos:M,key:H,parentPos:O.node?O.pos:null,level:O.level+1,nodes:A};u(I)}L&&L.forEach(function(B,Z){C(B,Z,{node:k,pos:M,level:O?O.level+1:-1},A)})}(null)}(r,function(s){var u=s.node,K=s.index,x=s.pos,p=s.key,y=s.parentPos,h=s.level,v={node:u,nodes:s.nodes,index:K,key:p,pos:x,level:h},f=le(p,x);o[x]=v,a[f]=v,v.parent=o[y],v.parent&&(v.parent.children=v.parent.children||[],v.parent.children.push(v)),e&&e(v,i)},{externalGetKey:n,childrenPropName:E,fieldNames:t}),d&&d(i),i}function se(r,c){var N=c.expandedKeys,e=c.selectedKeys,d=c.loadedKeys,m=c.loadingKeys,E=c.checkedKeys,t=c.halfCheckedKeys,n=c.dragOverNodeKey,o=c.dropPosition,a=U(c.keyEntities,r);return{eventKey:r,expanded:N.indexOf(r)!==-1,selected:e.indexOf(r)!==-1,loaded:d.indexOf(r)!==-1,loading:m.indexOf(r)!==-1,checked:E.indexOf(r)!==-1,halfChecked:t.indexOf(r)!==-1,pos:String(a?a.pos:""),dragOver:n===r&&o===0,dragOverGapTop:n===r&&o===-1,dragOverGapBottom:n===r&&o===1}}function R(r){var c=r.data,N=r.expanded,e=r.selected,d=r.checked,m=r.loaded,E=r.loading,t=r.halfChecked,n=r.dragOver,o=r.dragOverGapTop,a=r.dragOverGapBottom,i=r.pos,s=r.active,u=r.eventKey,K=G(G({},c),{},{expanded:N,selected:e,checked:d,loaded:m,loading:E,halfChecked:t,dragOver:n,dragOverGapTop:o,dragOverGapBottom:a,pos:i,active:s,key:u});return"props"in K||Object.defineProperty(K,"props",{get:function(){return J(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),r}}),K}function Be(r,c){var N=new Set;return r.forEach(function(e){c.has(e)||N.add(e)}),N}function xt(r){var c=r||{},N=c.disabled,e=c.disableCheckbox,d=c.checkable;return!(!N&&!e)||d===!1}function Se(r,c,N,e){var d,m=[];d=e||xt;var E,t=new Set(r.filter(function(a){var i=!!U(N,a);return i||m.push(a),i})),n=new Map,o=0;return Object.keys(N).forEach(function(a){var i=N[a],s=i.level,u=n.get(s);u||(u=new Set,n.set(s,u)),u.add(i),o=Math.max(o,s)}),J(!m.length,"Tree missing follow keys: ".concat(m.slice(0,100).map(function(a){return"'".concat(a,"'")}).join(", "))),E=c===!0?function(a,i,s,u){for(var K=new Set(a),x=new Set,p=0;p<=s;p+=1)(i.get(p)||new Set).forEach(function(v){var f=v.key,S=v.node,w=v.children,C=w===void 0?[]:w;K.has(f)&&!u(S)&&C.filter(function(k){return!u(k.node)}).forEach(function(k){K.add(k.key)})});for(var y=new Set,h=s;h>=0;h-=1)(i.get(h)||new Set).forEach(function(v){var f=v.parent,S=v.node;if(!u(S)&&v.parent&&!y.has(v.parent.key))if(u(v.parent.node))y.add(f.key);else{var w=!0,C=!1;(f.children||[]).filter(function(k){return!u(k.node)}).forEach(function(k){var b=k.key,O=K.has(b);w&&!O&&(w=!1),C||!O&&!x.has(b)||(C=!0)}),w&&K.add(f.key),C&&x.add(f.key),y.add(f.key)}});return{checkedKeys:Array.from(K),halfCheckedKeys:Array.from(Be(x,K))}}(t,n,o,d):function(a,i,s,u,K){for(var x=new Set(a),p=new Set(i),y=0;y<=u;y+=1)(s.get(y)||new Set).forEach(function(f){var S=f.key,w=f.node,C=f.children,k=C===void 0?[]:C;x.has(S)||p.has(S)||K(w)||k.filter(function(b){return!K(b.node)}).forEach(function(b){x.delete(b.key)})});p=new Set;for(var h=new Set,v=u;v>=0;v-=1)(s.get(v)||new Set).forEach(function(f){var S=f.parent,w=f.node;if(!K(w)&&f.parent&&!h.has(f.parent.key))if(K(f.parent.node))h.add(S.key);else{var C=!0,k=!1;(S.children||[]).filter(function(b){return!K(b.node)}).forEach(function(b){var O=b.key,P=x.has(O);C&&!P&&(C=!1),k||!P&&!p.has(O)||(k=!0)}),C||x.delete(S.key),k&&p.add(S.key),h.add(S.key)}});return{checkedKeys:Array.from(x),halfCheckedKeys:Array.from(Be(p,x))}}(t,c.halfCheckedKeys,n,o,d),E}var Le=D.createContext(null),Et=function(r){for(var c=r.prefixCls,N=r.level,e=r.isStart,d=r.isEnd,m="".concat(c,"-indent-unit"),E=[],t=0;t<N;t+=1)E.push(D.createElement("span",{key:t,className:W(m,l(l({},"".concat(m,"-start"),e[t]),"".concat(m,"-end"),d[t]))}));return D.createElement("span",{"aria-hidden":"true",className:"".concat(c,"-indent")},E)};const Ct=D.memo(Et);var bt=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],_e="open",Fe="close",Dt=function(r){$e(N,r);var c=et(N);function N(){var e;tt(this,N);for(var d=arguments.length,m=new Array(d),E=0;E<d;E++)m[E]=arguments[E];return e=c.call.apply(c,[this].concat(m)),l(g(e),"state",{dragNodeHighlight:!1}),l(g(e),"selectHandle",void 0),l(g(e),"cacheIndent",void 0),l(g(e),"onSelectorClick",function(t){(0,e.props.context.onNodeClick)(t,R(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)}),l(g(e),"onSelectorDoubleClick",function(t){(0,e.props.context.onNodeDoubleClick)(t,R(e.props))}),l(g(e),"onSelect",function(t){e.isDisabled()||(0,e.props.context.onNodeSelect)(t,R(e.props))}),l(g(e),"onCheck",function(t){if(!e.isDisabled()){var n=e.props,o=n.disableCheckbox,a=n.checked,i=e.props.context.onNodeCheck;if(e.isCheckable()&&!o){var s=!a;i(t,R(e.props),s)}}}),l(g(e),"onMouseEnter",function(t){(0,e.props.context.onNodeMouseEnter)(t,R(e.props))}),l(g(e),"onMouseLeave",function(t){(0,e.props.context.onNodeMouseLeave)(t,R(e.props))}),l(g(e),"onContextMenu",function(t){(0,e.props.context.onNodeContextMenu)(t,R(e.props))}),l(g(e),"onDragStart",function(t){var n=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),n(t,g(e));try{t.dataTransfer.setData("text/plain","")}catch{}}),l(g(e),"onDragEnter",function(t){var n=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),n(t,g(e))}),l(g(e),"onDragOver",function(t){var n=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),n(t,g(e))}),l(g(e),"onDragLeave",function(t){var n=e.props.context.onNodeDragLeave;t.stopPropagation(),n(t,g(e))}),l(g(e),"onDragEnd",function(t){var n=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,g(e))}),l(g(e),"onDrop",function(t){var n=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,g(e))}),l(g(e),"onExpand",function(t){var n=e.props,o=n.loading,a=n.context.onNodeExpand;o||a(t,R(e.props))}),l(g(e),"setSelectHandle",function(t){e.selectHandle=t}),l(g(e),"getNodeState",function(){var t=e.props.expanded;return e.isLeaf()?null:t?_e:Fe}),l(g(e),"hasChildren",function(){var t=e.props.eventKey;return!!((U(e.props.context.keyEntities,t)||{}).children||[]).length}),l(g(e),"isLeaf",function(){var t=e.props,n=t.isLeaf,o=t.loaded,a=e.props.context.loadData,i=e.hasChildren();return n!==!1&&(n||!a&&!i||a&&o&&!i)}),l(g(e),"isDisabled",function(){var t=e.props.disabled;return!(!e.props.context.disabled&&!t)}),l(g(e),"isCheckable",function(){var t=e.props.checkable,n=e.props.context.checkable;return!(!n||t===!1)&&n}),l(g(e),"syncLoadData",function(t){var n=t.expanded,o=t.loading,a=t.loaded,i=e.props.context,s=i.loadData,u=i.onNodeLoad;o||s&&n&&!e.isLeaf()&&!a&&u(R(e.props))}),l(g(e),"isDraggable",function(){var t=e.props,n=t.data,o=t.context.draggable;return!(!o||o.nodeDraggable&&!o.nodeDraggable(n))}),l(g(e),"renderDragHandler",function(){var t=e.props.context,n=t.draggable,o=t.prefixCls;return n!=null&&n.icon?D.createElement("span",{className:"".concat(o,"-draggable-icon")},n.icon):null}),l(g(e),"renderSwitcherIconDom",function(t){var n=e.props.switcherIcon,o=e.props.context.switcherIcon,a=n||o;return typeof a=="function"?a(G(G({},e.props),{},{isLeaf:t})):a}),l(g(e),"renderSwitcher",function(){var t=e.props.expanded,n=e.props.context.prefixCls;if(e.isLeaf()){var o=e.renderSwitcherIconDom(!0);return o!==!1?D.createElement("span",{className:W("".concat(n,"-switcher"),"".concat(n,"-switcher-noop"))},o):null}var a=W("".concat(n,"-switcher"),"".concat(n,"-switcher_").concat(t?_e:Fe)),i=e.renderSwitcherIconDom(!1);return i!==!1?D.createElement("span",{onClick:e.onExpand,className:a},i):null}),l(g(e),"renderCheckbox",function(){var t=e.props,n=t.checked,o=t.halfChecked,a=t.disableCheckbox,i=e.props.context.prefixCls,s=e.isDisabled(),u=e.isCheckable();if(!u)return null;var K=typeof u!="boolean"?u:null;return D.createElement("span",{className:W("".concat(i,"-checkbox"),n&&"".concat(i,"-checkbox-checked"),!n&&o&&"".concat(i,"-checkbox-indeterminate"),(s||a)&&"".concat(i,"-checkbox-disabled")),onClick:e.onCheck},K)}),l(g(e),"renderIcon",function(){var t=e.props.loading,n=e.props.context.prefixCls;return D.createElement("span",{className:W("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(n,"-icon_loading"))})}),l(g(e),"renderSelector",function(){var t,n,o=e.state.dragNodeHighlight,a=e.props,i=a.title,s=i===void 0?"---":i,u=a.selected,K=a.icon,x=a.loading,p=a.data,y=e.props.context,h=y.prefixCls,v=y.showIcon,f=y.icon,S=y.loadData,w=y.titleRender,C=e.isDisabled(),k="".concat(h,"-node-content-wrapper");if(v){var b=K||f;t=b?D.createElement("span",{className:W("".concat(h,"-iconEle"),"".concat(h,"-icon__customize"))},typeof b=="function"?b(e.props):b):e.renderIcon()}else S&&x&&(t=e.renderIcon());n=typeof s=="function"?s(p):w?w(p):s;var O=D.createElement("span",{className:"".concat(h,"-title")},n);return D.createElement("span",{ref:e.setSelectHandle,title:typeof s=="string"?s:"",className:W("".concat(k),"".concat(k,"-").concat(e.getNodeState()||"normal"),!C&&(u||o)&&"".concat(h,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},t,O,e.renderDropIndicator())}),l(g(e),"renderDropIndicator",function(){var t=e.props,n=t.disabled,o=t.eventKey,a=e.props.context,i=a.draggable,s=a.dropLevelOffset,u=a.dropPosition,K=a.prefixCls,x=a.indent,p=a.dropIndicatorRender,y=a.dragOverNodeKey,h=a.direction,v=!n&&!!i&&y===o,f=x??e.cacheIndent;return e.cacheIndent=x,v?p({dropPosition:u,dropLevelOffset:s,indent:f,prefixCls:K,direction:h}):null}),e}return nt(N,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var e=this.props.selectable,d=this.props.context.selectable;return typeof e=="boolean"?e:d}},{key:"render",value:function(){var e,d=this.props,m=d.eventKey,E=d.className,t=d.style,n=d.dragOver,o=d.dragOverGapTop,a=d.dragOverGapBottom,i=d.isLeaf,s=d.isStart,u=d.isEnd,K=d.expanded,x=d.selected,p=d.checked,y=d.halfChecked,h=d.loading,v=d.domRef,f=d.active;d.data;var S=d.onMouseMove,w=d.selectable,C=ge(d,bt),k=this.props.context,b=k.prefixCls,O=k.filterTreeNode,P=k.keyEntities,L=k.dropContainerKey,M=k.dropTargetKey,A=k.draggingNodeKey,H=this.isDisabled(),I=rt(C,{aria:!0,data:!0}),B=(U(P,m)||{}).level,Z=u[u.length-1],_=this.isDraggable(),oe=!H&&_,$=A===m,q=w!==void 0?{"aria-selected":!!w}:void 0;return D.createElement("div",Q({ref:v,className:W(E,"".concat(b,"-treenode"),(e={},l(l(l(l(l(l(l(l(l(l(e,"".concat(b,"-treenode-disabled"),H),"".concat(b,"-treenode-switcher-").concat(K?"open":"close"),!i),"".concat(b,"-treenode-checkbox-checked"),p),"".concat(b,"-treenode-checkbox-indeterminate"),y),"".concat(b,"-treenode-selected"),x),"".concat(b,"-treenode-loading"),h),"".concat(b,"-treenode-active"),f),"".concat(b,"-treenode-leaf-last"),Z),"".concat(b,"-treenode-draggable"),_),"dragging",$),l(l(l(l(l(l(e,"drop-target",M===m),"drop-container",L===m),"drag-over",!H&&n),"drag-over-gap-top",!H&&o),"drag-over-gap-bottom",!H&&a),"filter-node",O&&O(R(this.props))))),style:t,draggable:oe,"aria-grabbed":$,onDragStart:oe?this.onDragStart:void 0,onDragEnter:_?this.onDragEnter:void 0,onDragOver:_?this.onDragOver:void 0,onDragLeave:_?this.onDragLeave:void 0,onDrop:_?this.onDrop:void 0,onDragEnd:_?this.onDragEnd:void 0,onMouseMove:S},q,I),D.createElement(Ct,{prefixCls:b,level:B,isStart:s,isEnd:u}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),N}(D.Component),ce=function(r){return D.createElement(Le.Consumer,null,function(c){return D.createElement(Dt,Q({},r,{context:c}))})};function X(r,c){if(!r)return[];var N=r.slice(),e=N.indexOf(c);return e>=0&&N.splice(e,1),N}function z(r,c){var N=(r||[]).slice();return N.indexOf(c)===-1&&N.push(c),N}function Te(r){return r.split("-")}function St(r,c){var N=[];return function e(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).forEach(function(d){var m=d.key,E=d.children;N.push(m),e(E)})}(U(c,r).children),N}function wt(r){if(r.parent){var c=Te(r.pos);return Number(c[c.length-1])===r.parent.children.length-1}return!1}function We(r,c,N,e,d,m,E,t,n,o){var a,i=r.clientX,s=r.clientY,u=r.target.getBoundingClientRect(),K=u.top,x=u.height,p=((o==="rtl"?-1:1)*(((d==null?void 0:d.x)||0)-i)-12)/e,y=n.filter(function(H){var I;return(I=t[H])===null||I===void 0||(I=I.children)===null||I===void 0?void 0:I.length}),h=U(t,N.props.eventKey);if(s<K+x/2){var v=E.findIndex(function(H){return H.key===h.key}),f=E[v<=0?0:v-1].key;h=U(t,f)}var S=h.key,w=h,C=h.key,k=0,b=0;if(!y.includes(S))for(var O=0;O<p&&wt(h);O+=1)h=h.parent,b+=1;var P,L=c.props.data,M=h.node,A=!0;return P=Te(h.pos),Number(P[P.length-1])===0&&h.level===0&&s<K+x/2&&m({dragNode:L,dropNode:M,dropPosition:-1})&&h.key===N.props.eventKey?k=-1:(w.children||[]).length&&y.includes(C)?m({dragNode:L,dropNode:M,dropPosition:0})?k=0:A=!1:b===0?p>-1.5?m({dragNode:L,dropNode:M,dropPosition:1})?k=1:A=!1:m({dragNode:L,dropNode:M,dropPosition:0})?k=0:m({dragNode:L,dropNode:M,dropPosition:1})?k=1:A=!1:m({dragNode:L,dropNode:M,dropPosition:1})?k=1:A=!1,{dropPosition:k,dropLevelOffset:b,dropTargetKey:h.key,dropTargetPos:h.pos,dragOverNodeKey:C,dropContainerKey:k===0?null:((a=h.parent)===null||a===void 0?void 0:a.key)||null,dropAllowed:A}}function qe(r,c){if(r)return c.multiple?r.slice():r.length?[r[0]]:r}function we(r){if(!r)return null;var c;if(Array.isArray(r))c={checkedKeys:r,halfCheckedKeys:void 0};else{if(Pe(r)!=="object")return J(!1,"`checkedKeys` is not an array or an object"),null;c={checkedKeys:r.checked||void 0,halfCheckedKeys:r.halfChecked||void 0}}return c}function Ve(r,c){var N=new Set;function e(d){if(!N.has(d)){var m=U(c,d);if(m){N.add(d);var E=m.parent;m.node.disabled||E&&e(E.key)}}}return(r||[]).forEach(function(d){e(d)}),te(N)}ce.displayName="TreeNode",ce.isTreeNode=1;var Ot=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],dt=function(r,c){var N=r.className,e=r.style,d=r.motion,m=r.motionNodes,E=r.motionType,t=r.onMotionStart,n=r.onMotionEnd,o=r.active,a=r.treeNodeRequiredProps,i=ge(r,Ot),s=D.useState(!0),u=ee(s,2),K=u[0],x=u[1],p=D.useContext(Le).prefixCls,y=m&&E!=="hide";ye(function(){m&&y!==K&&x(y)},[m]);var h=D.useRef(!1),v=function(){m&&!h.current&&(h.current=!0,n())};return function(f,S){var w=D.useState(!1),C=ee(w,2),k=C[0],b=C[1];ye(function(){if(k)return f(),function(){S()}},[k]),ye(function(){return b(!0),function(){b(!1)}},[])}(function(){m&&t()},v),m?D.createElement(kt,Q({ref:c,visible:K},d,{motionAppear:E==="show",onVisibleChanged:function(f){y===f&&v()}}),function(f,S){var w=f.className,C=f.style;return D.createElement("div",{ref:S,className:W("".concat(p,"-treenode-motion"),w),style:C},m.map(function(k){var b=Object.assign({},(ot(k.data),k.data)),O=k.title,P=k.key,L=k.isStart,M=k.isEnd;delete b.children;var A=se(P,a);return D.createElement(ce,Q({},b,A,{title:O,active:o,data:k.data,key:P,isStart:L,isEnd:M}))}))}):D.createElement(ce,Q({domRef:c,className:N,style:e},i,{active:o}))};dt.displayName="MotionTreeNode";var Pt=D.forwardRef(dt);function Xe(r,c,N){var e=r.findIndex(function(t){return t.key===N}),d=r[e+1],m=c.findIndex(function(t){return t.key===N});if(d){var E=c.findIndex(function(t){return t.key===d.key});return c.slice(m+1,E)}return c.slice(m+1)}var Lt=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Ye={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Tt=function(){},ne="RC_TREE_MOTION_".concat(Math.random()),Oe={key:ne},it={key:ne,level:0,index:0,pos:"0",node:Oe,nodes:[Oe]},ze={parent:null,children:[],pos:it.pos,data:Oe,title:null,key:ne,isStart:[],isEnd:[]};function Je(r,c,N,e){return c!==!1&&N?r.slice(0,Math.ceil(N/e)+1):r}function Qe(r){return le(r.key,r.pos)}var st=D.forwardRef(function(r,c){var N=r.prefixCls,e=r.data;r.selectable,r.checkable;var d=r.expandedKeys,m=r.selectedKeys,E=r.checkedKeys,t=r.loadedKeys,n=r.loadingKeys,o=r.halfCheckedKeys,a=r.keyEntities,i=r.disabled,s=r.dragging,u=r.dragOverNodeKey,K=r.dropPosition,x=r.motion,p=r.height,y=r.itemHeight,h=r.virtual,v=r.focusable,f=r.activeItem,S=r.focused,w=r.tabIndex,C=r.onKeyDown,k=r.onFocus,b=r.onBlur,O=r.onActiveChange,P=r.onListChangeStart,L=r.onListChangeEnd,M=ge(r,Lt),A=D.useRef(null),H=D.useRef(null);D.useImperativeHandle(c,function(){return{scrollTo:function(T){A.current.scrollTo(T)},getIndentWidth:function(){return H.current.offsetWidth}}});var I=D.useState(d),B=ee(I,2),Z=B[0],_=B[1],oe=D.useState(e),$=ee(oe,2),q=$[0],ue=$[1],ke=D.useState(e),pe=ee(ke,2),Ke=pe[0],re=pe[1],me=D.useState([]),fe=ee(me,2),lt=fe[0],Ne=fe[1],ct=D.useState(null),Me=ee(ct,2),ut=Me[0],xe=Me[1],Ae=D.useRef(e);function Ee(){var T=Ae.current;ue(T),re(T),Ne([]),xe(null),L()}Ae.current=e,ye(function(){_(d);var T=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Re=V.length,He=ie.length;if(Math.abs(Re-He)!==1)return{add:!1,key:null};function Ge(ft,vt){var Ue=new Map;ft.forEach(function(be){Ue.set(be,!0)});var je=vt.filter(function(be){return!Ue.has(be)});return je.length===1?je[0]:null}return Re<He?{add:!0,key:Ge(V,ie)}:{add:!1,key:Ge(ie,V)}}(Z,d);if(T.key!==null)if(T.add){var F=q.findIndex(function(V){return V.key===T.key}),j=Je(Xe(q,e,T.key),h,p,y),Y=q.slice();Y.splice(F+1,0,ze),re(Y),Ne(j),xe("show")}else{var de=e.findIndex(function(V){return V.key===T.key}),Ce=Je(Xe(e,q,T.key),h,p,y),ve=e.slice();ve.splice(de+1,0,ze),re(ve),Ne(Ce),xe("hide")}else q!==e&&(ue(e),re(e))},[d,e]),D.useEffect(function(){s||Ee()},[s]);var pt=x?Ke:e,Ie={expandedKeys:d,selectedKeys:m,loadedKeys:t,loadingKeys:n,checkedKeys:E,halfCheckedKeys:o,dragOverNodeKey:u,dropPosition:K,keyEntities:a};return D.createElement(D.Fragment,null,S&&f&&D.createElement("span",{style:Ye,"aria-live":"assertive"},function(T){for(var F=String(T.data.key),j=T;j.parent;)j=j.parent,F="".concat(j.data.key," > ").concat(F);return F}(f)),D.createElement("div",null,D.createElement("input",{style:Ye,disabled:v===!1||i,tabIndex:v!==!1?w:null,onKeyDown:C,onFocus:k,onBlur:b,value:"",onChange:Tt,"aria-label":"for screen reader"})),D.createElement("div",{className:"".concat(N,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},D.createElement("div",{className:"".concat(N,"-indent")},D.createElement("div",{ref:H,className:"".concat(N,"-indent-unit")}))),D.createElement(gt,Q({},M,{data:pt,itemKey:Qe,height:p,fullHeight:!1,virtual:h,itemHeight:y,prefixCls:"".concat(N,"-list"),ref:A,onVisibleChange:function(T,F){var j=new Set(T);F.filter(function(Y){return!j.has(Y)}).some(function(Y){return Qe(Y)===ne})&&Ee()}}),function(T){var F=T.pos,j=Object.assign({},(ot(T.data),T.data)),Y=T.title,de=T.key,Ce=T.isStart,ve=T.isEnd,V=le(de,F);delete j.key,delete j.children;var ie=se(V,Ie);return D.createElement(Pt,Q({},j,ie,{title:Y,active:!!f&&de===f.key,pos:F,data:T.data,isStart:Ce,isEnd:ve,motion:x,motionNodes:de===ne?lt:null,motionType:ut,onMotionStart:P,onMotionEnd:Ee,treeNodeRequiredProps:Ie,onMouseMove:function(){O(null)}}))}))});st.displayName="NodeList";var Ze=function(r){$e(N,r);var c=et(N);function N(){var e;tt(this,N);for(var d=arguments.length,m=new Array(d),E=0;E<d;E++)m[E]=arguments[E];return e=c.call.apply(c,[this].concat(m)),l(g(e),"destroyed",!1),l(g(e),"delayedDragEnterLogic",void 0),l(g(e),"loadingRetryTimes",{}),l(g(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:he()}),l(g(e),"dragStartMousePosition",null),l(g(e),"dragNode",void 0),l(g(e),"currentMouseOverDroppableNodeKey",null),l(g(e),"listRef",D.createRef()),l(g(e),"onNodeDragStart",function(t,n){var o=e.state,a=o.expandedKeys,i=o.keyEntities,s=e.props.onDragStart,u=n.props.eventKey;e.dragNode=n,e.dragStartMousePosition={x:t.clientX,y:t.clientY};var K=X(a,u);e.setState({draggingNodeKey:u,dragChildrenKeys:St(u,i),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(K),window.addEventListener("dragend",e.onWindowDragEnd),s==null||s({event:t,node:R(n.props)})}),l(g(e),"onNodeDragEnter",function(t,n){var o=e.state,a=o.expandedKeys,i=o.keyEntities,s=o.dragChildrenKeys,u=o.flattenNodes,K=o.indent,x=e.props,p=x.onDragEnter,y=x.onExpand,h=x.allowDrop,v=x.direction,f=n.props,S=f.pos,w=f.eventKey,C=g(e).dragNode;if(e.currentMouseOverDroppableNodeKey!==w&&(e.currentMouseOverDroppableNodeKey=w),C){var k=We(t,C,n,K,e.dragStartMousePosition,h,u,i,a,v),b=k.dropPosition,O=k.dropLevelOffset,P=k.dropTargetKey,L=k.dropContainerKey,M=k.dropTargetPos,A=k.dropAllowed,H=k.dragOverNodeKey;s.indexOf(P)===-1&&A?(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(I){clearTimeout(e.delayedDragEnterLogic[I])}),C.props.eventKey!==n.props.eventKey&&(t.persist(),e.delayedDragEnterLogic[S]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var I=te(a),B=U(i,n.props.eventKey);B&&(B.children||[]).length&&(I=z(a,n.props.eventKey)),"expandedKeys"in e.props||e.setExpandedKeys(I),y==null||y(I,{node:R(n.props),expanded:!0,nativeEvent:t.nativeEvent})}},800)),C.props.eventKey!==P||O!==0?(e.setState({dragOverNodeKey:H,dropPosition:b,dropLevelOffset:O,dropTargetKey:P,dropContainerKey:L,dropTargetPos:M,dropAllowed:A}),p==null||p({event:t,node:R(n.props),expandedKeys:a})):e.resetDragState()):e.resetDragState()}else e.resetDragState()}),l(g(e),"onNodeDragOver",function(t,n){var o=e.state,a=o.dragChildrenKeys,i=o.flattenNodes,s=o.keyEntities,u=o.expandedKeys,K=o.indent,x=e.props,p=x.onDragOver,y=x.allowDrop,h=x.direction,v=g(e).dragNode;if(v){var f=We(t,v,n,K,e.dragStartMousePosition,y,i,s,u,h),S=f.dropPosition,w=f.dropLevelOffset,C=f.dropTargetKey,k=f.dropContainerKey,b=f.dropAllowed,O=f.dropTargetPos,P=f.dragOverNodeKey;a.indexOf(C)===-1&&b&&(v.props.eventKey===C&&w===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():S===e.state.dropPosition&&w===e.state.dropLevelOffset&&C===e.state.dropTargetKey&&k===e.state.dropContainerKey&&O===e.state.dropTargetPos&&b===e.state.dropAllowed&&P===e.state.dragOverNodeKey||e.setState({dropPosition:S,dropLevelOffset:w,dropTargetKey:C,dropContainerKey:k,dropTargetPos:O,dropAllowed:b,dragOverNodeKey:P}),p==null||p({event:t,node:R(n.props)}))}}),l(g(e),"onNodeDragLeave",function(t,n){e.currentMouseOverDroppableNodeKey!==n.props.eventKey||t.currentTarget.contains(t.relatedTarget)||(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var o=e.props.onDragLeave;o==null||o({event:t,node:R(n.props)})}),l(g(e),"onWindowDragEnd",function(t){e.onNodeDragEnd(t,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),l(g(e),"onNodeDragEnd",function(t,n){var o=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),o==null||o({event:t,node:R(n.props)}),e.dragNode=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),l(g(e),"onNodeDrop",function(t,n){var o,a=arguments.length>2&&arguments[2]!==void 0&&arguments[2],i=e.state,s=i.dragChildrenKeys,u=i.dropPosition,K=i.dropTargetKey,x=i.dropTargetPos;if(i.dropAllowed){var p=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),K!==null){var y=G(G({},se(K,e.getTreeNodeRequiredProps())),{},{active:((o=e.getActiveItem())===null||o===void 0?void 0:o.key)===K,data:U(e.state.keyEntities,K).node}),h=s.indexOf(K)!==-1;J(!h,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var v=Te(x),f={event:t,node:R(y),dragNode:e.dragNode?R(e.dragNode.props):null,dragNodesKeys:[e.dragNode.props.eventKey].concat(s),dropToGap:u!==0,dropPosition:u+Number(v[v.length-1])};a||p==null||p(f),e.dragNode=null}}}),l(g(e),"cleanDragState",function(){e.state.draggingNodeKey!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),l(g(e),"triggerExpandActionExpand",function(t,n){var o=e.state,a=o.expandedKeys,i=o.flattenNodes,s=n.expanded,u=n.key;if(!(n.isLeaf||t.shiftKey||t.metaKey||t.ctrlKey)){var K=i.filter(function(p){return p.key===u})[0],x=R(G(G({},se(u,e.getTreeNodeRequiredProps())),{},{data:K.data}));e.setExpandedKeys(s?X(a,u):z(a,u)),e.onNodeExpand(t,x)}}),l(g(e),"onNodeClick",function(t,n){var o=e.props,a=o.onClick;o.expandAction==="click"&&e.triggerExpandActionExpand(t,n),a==null||a(t,n)}),l(g(e),"onNodeDoubleClick",function(t,n){var o=e.props,a=o.onDoubleClick;o.expandAction==="doubleClick"&&e.triggerExpandActionExpand(t,n),a==null||a(t,n)}),l(g(e),"onNodeSelect",function(t,n){var o=e.state.selectedKeys,a=e.state,i=a.keyEntities,s=a.fieldNames,u=e.props,K=u.onSelect,x=u.multiple,p=n.selected,y=n[s.key],h=!p,v=(o=h?x?z(o,y):[y]:X(o,y)).map(function(f){var S=U(i,f);return S?S.node:null}).filter(function(f){return f});e.setUncontrolledState({selectedKeys:o}),K==null||K(o,{event:"select",selected:h,node:n,selectedNodes:v,nativeEvent:t.nativeEvent})}),l(g(e),"onNodeCheck",function(t,n,o){var a,i=e.state,s=i.keyEntities,u=i.checkedKeys,K=i.halfCheckedKeys,x=e.props,p=x.checkStrictly,y=x.onCheck,h=n.key,v={event:"check",node:n,checked:o,nativeEvent:t.nativeEvent};if(p){var f=o?z(u,h):X(u,h);a={checked:f,halfChecked:X(K,h)},v.checkedNodes=f.map(function(O){return U(s,O)}).filter(function(O){return O}).map(function(O){return O.node}),e.setUncontrolledState({checkedKeys:f})}else{var S=Se([].concat(te(u),[h]),!0,s),w=S.checkedKeys,C=S.halfCheckedKeys;if(!o){var k=new Set(w);k.delete(h);var b=Se(Array.from(k),{checked:!1,halfCheckedKeys:C},s);w=b.checkedKeys,C=b.halfCheckedKeys}a=w,v.checkedNodes=[],v.checkedNodesPositions=[],v.halfCheckedKeys=C,w.forEach(function(O){var P=U(s,O);if(P){var L=P.node,M=P.pos;v.checkedNodes.push(L),v.checkedNodesPositions.push({node:L,pos:M})}}),e.setUncontrolledState({checkedKeys:w},!1,{halfCheckedKeys:C})}y==null||y(a,v)}),l(g(e),"onNodeLoad",function(t){var n,o=t.key,a=U(e.state.keyEntities,o);if(a==null||(n=a.children)===null||n===void 0||!n.length){var i=new Promise(function(s,u){e.setState(function(K){var x=K.loadedKeys,p=x===void 0?[]:x,y=K.loadingKeys,h=y===void 0?[]:y,v=e.props,f=v.loadData,S=v.onLoad;return f&&p.indexOf(o)===-1&&h.indexOf(o)===-1?(f(t).then(function(){var w=z(e.state.loadedKeys,o);S==null||S(w,{event:"load",node:t}),e.setUncontrolledState({loadedKeys:w}),e.setState(function(C){return{loadingKeys:X(C.loadingKeys,o)}}),s()}).catch(function(w){if(e.setState(function(k){return{loadingKeys:X(k.loadingKeys,o)}}),e.loadingRetryTimes[o]=(e.loadingRetryTimes[o]||0)+1,e.loadingRetryTimes[o]>=10){var C=e.state.loadedKeys;J(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:z(C,o)}),s()}u(w)}),{loadingKeys:z(h,o)}):null})});return i.catch(function(){}),i}}),l(g(e),"onNodeMouseEnter",function(t,n){var o=e.props.onMouseEnter;o==null||o({event:t,node:n})}),l(g(e),"onNodeMouseLeave",function(t,n){var o=e.props.onMouseLeave;o==null||o({event:t,node:n})}),l(g(e),"onNodeContextMenu",function(t,n){var o=e.props.onRightClick;o&&(t.preventDefault(),o({event:t,node:n}))}),l(g(e),"onFocus",function(){var t=e.props.onFocus;e.setState({focused:!0});for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];t==null||t.apply(void 0,o)}),l(g(e),"onBlur",function(){var t=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];t==null||t.apply(void 0,o)}),l(g(e),"getTreeNodeRequiredProps",function(){var t=e.state;return{expandedKeys:t.expandedKeys||[],selectedKeys:t.selectedKeys||[],loadedKeys:t.loadedKeys||[],loadingKeys:t.loadingKeys||[],checkedKeys:t.checkedKeys||[],halfCheckedKeys:t.halfCheckedKeys||[],dragOverNodeKey:t.dragOverNodeKey,dropPosition:t.dropPosition,keyEntities:t.keyEntities}}),l(g(e),"setExpandedKeys",function(t){var n=e.state,o=De(n.treeData,t,n.fieldNames);e.setUncontrolledState({expandedKeys:t,flattenNodes:o},!0)}),l(g(e),"onNodeExpand",function(t,n){var o=e.state.expandedKeys,a=e.state,i=a.listChanging,s=a.fieldNames,u=e.props,K=u.onExpand,x=u.loadData,p=n.expanded,y=n[s.key];if(!i){var h=o.indexOf(y),v=!p;if(J(p&&h!==-1||!p&&h===-1,"Expand state not sync with index check"),o=v?z(o,y):X(o,y),e.setExpandedKeys(o),K==null||K(o,{node:n,expanded:v,nativeEvent:t.nativeEvent}),v&&x){var f=e.onNodeLoad(n);f&&f.then(function(){var S=De(e.state.treeData,o,s);e.setUncontrolledState({flattenNodes:S})}).catch(function(){var S=X(e.state.expandedKeys,y);e.setExpandedKeys(S)})}}}),l(g(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),l(g(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),l(g(e),"onActiveChange",function(t){var n=e.state.activeKey,o=e.props,a=o.onActiveChange,i=o.itemScrollOffset,s=i===void 0?0:i;n!==t&&(e.setState({activeKey:t}),t!==null&&e.scrollTo({key:t,offset:s}),a==null||a(t))}),l(g(e),"getActiveItem",function(){var t=e.state,n=t.activeKey,o=t.flattenNodes;return n===null?null:o.find(function(a){return a.key===n})||null}),l(g(e),"offsetActiveKey",function(t){var n=e.state,o=n.flattenNodes,a=n.activeKey,i=o.findIndex(function(K){return K.key===a});i===-1&&t<0&&(i=o.length);var s=o[i=(i+t+o.length)%o.length];if(s){var u=s.key;e.onActiveChange(u)}else e.onActiveChange(null)}),l(g(e),"onKeyDown",function(t){var n=e.state,o=n.activeKey,a=n.expandedKeys,i=n.checkedKeys,s=n.fieldNames,u=e.props,K=u.onKeyDown,x=u.checkable,p=u.selectable;switch(t.which){case ae.UP:e.offsetActiveKey(-1),t.preventDefault();break;case ae.DOWN:e.offsetActiveKey(1),t.preventDefault()}var y=e.getActiveItem();if(y&&y.data){var h=e.getTreeNodeRequiredProps(),v=y.data.isLeaf===!1||!!(y.data[s.children]||[]).length,f=R(G(G({},se(o,h)),{},{data:y.data,active:!0}));switch(t.which){case ae.LEFT:v&&a.includes(o)?e.onNodeExpand({},f):y.parent&&e.onActiveChange(y.parent.key),t.preventDefault();break;case ae.RIGHT:v&&!a.includes(o)?e.onNodeExpand({},f):y.children&&y.children.length&&e.onActiveChange(y.children[0].key),t.preventDefault();break;case ae.ENTER:case ae.SPACE:!x||f.disabled||f.checkable===!1||f.disableCheckbox?x||!p||f.disabled||f.selectable===!1||e.onNodeSelect({},f):e.onNodeCheck({},f,!i.includes(o))}}K==null||K(t)}),l(g(e),"setUncontrolledState",function(t){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var a=!1,i=!0,s={};Object.keys(t).forEach(function(u){u in e.props?i=!1:(a=!0,s[u]=t[u])}),!a||n&&!i||e.setState(G(G({},s),o))}}),l(g(e),"scrollTo",function(t){e.listRef.current.scrollTo(t)}),e}return nt(N,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var e=this.props,d=e.activeKey,m=e.itemScrollOffset,E=m===void 0?0:m;d!==void 0&&d!==this.state.activeKey&&(this.setState({activeKey:d}),d!==null&&this.scrollTo({key:d,offset:E}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var e,d=this.state,m=d.focused,E=d.flattenNodes,t=d.keyEntities,n=d.draggingNodeKey,o=d.activeKey,a=d.dropLevelOffset,i=d.dropContainerKey,s=d.dropTargetKey,u=d.dropPosition,K=d.dragOverNodeKey,x=d.indent,p=this.props,y=p.prefixCls,h=p.className,v=p.style,f=p.showLine,S=p.focusable,w=p.tabIndex,C=w===void 0?0:w,k=p.selectable,b=p.showIcon,O=p.icon,P=p.switcherIcon,L=p.draggable,M=p.checkable,A=p.checkStrictly,H=p.disabled,I=p.motion,B=p.loadData,Z=p.filterTreeNode,_=p.height,oe=p.itemHeight,$=p.virtual,q=p.titleRender,ue=p.dropIndicatorRender,ke=p.onContextMenu,pe=p.onScroll,Ke=p.direction,re=p.rootClassName,me=p.rootStyle,fe=rt(this.props,{aria:!0,data:!0});return L&&(e=Pe(L)==="object"?L:typeof L=="function"?{nodeDraggable:L}:{}),D.createElement(Le.Provider,{value:{prefixCls:y,selectable:k,showIcon:b,icon:O,switcherIcon:P,draggable:e,draggingNodeKey:n,checkable:M,checkStrictly:A,disabled:H,keyEntities:t,dropLevelOffset:a,dropContainerKey:i,dropTargetKey:s,dropPosition:u,dragOverNodeKey:K,indent:x,direction:Ke,dropIndicatorRender:ue,loadData:B,filterTreeNode:Z,titleRender:q,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},D.createElement("div",{role:"tree",className:W(y,h,re,l(l(l({},"".concat(y,"-show-line"),f),"".concat(y,"-focused"),m),"".concat(y,"-active-focused"),o!==null)),style:me},D.createElement(st,Q({ref:this.listRef,prefixCls:y,style:v,data:E,disabled:H,selectable:k,checkable:!!M,motion:I,dragging:n!==null,height:_,itemHeight:oe,virtual:$,focusable:S,focused:m,tabIndex:C,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:ke,onScroll:pe},this.getTreeNodeRequiredProps(),fe))))}}],[{key:"getDerivedStateFromProps",value:function(e,d){var m,E=d.prevProps,t={prevProps:e};function n(S){return!E&&S in e||E&&E[S]!==e[S]}var o=d.fieldNames;if(n("fieldNames")&&(o=he(e.fieldNames),t.fieldNames=o),n("treeData")?m=e.treeData:n("children")&&(J(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),m=mt(e.children)),m){t.treeData=m;var a=Nt(m,{fieldNames:o});t.keyEntities=G(l({},ne,it),a.keyEntities)}var i,s=t.keyEntities||d.keyEntities;if(n("expandedKeys")||E&&n("autoExpandParent"))t.expandedKeys=e.autoExpandParent||!E&&e.defaultExpandParent?Ve(e.expandedKeys,s):e.expandedKeys;else if(!E&&e.defaultExpandAll){var u=G({},s);delete u[ne],t.expandedKeys=Object.keys(u).map(function(S){return u[S].key})}else!E&&e.defaultExpandedKeys&&(t.expandedKeys=e.autoExpandParent||e.defaultExpandParent?Ve(e.defaultExpandedKeys,s):e.defaultExpandedKeys);if(t.expandedKeys||delete t.expandedKeys,m||t.expandedKeys){var K=De(m||d.treeData,t.expandedKeys||d.expandedKeys,o);t.flattenNodes=K}if(e.selectable&&(n("selectedKeys")?t.selectedKeys=qe(e.selectedKeys,e):!E&&e.defaultSelectedKeys&&(t.selectedKeys=qe(e.defaultSelectedKeys,e))),e.checkable&&(n("checkedKeys")?i=we(e.checkedKeys)||{}:!E&&e.defaultCheckedKeys?i=we(e.defaultCheckedKeys)||{}:m&&(i=we(e.checkedKeys)||{checkedKeys:d.checkedKeys,halfCheckedKeys:d.halfCheckedKeys}),i)){var x=i,p=x.checkedKeys,y=p===void 0?[]:p,h=x.halfCheckedKeys,v=h===void 0?[]:h;if(!e.checkStrictly){var f=Se(y,!0,s);y=f.checkedKeys,v=f.halfCheckedKeys}t.checkedKeys=y,t.halfCheckedKeys=v}return n("loadedKeys")&&(t.loadedKeys=e.loadedKeys),t}}]),N}(D.Component);l(Ze,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(r){var c=r.dropPosition,N=r.dropLevelOffset,e=r.indent,d={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(c){case-1:d.top=0,d.left=-N*e;break;case 1:d.bottom=0,d.left=-N*e;break;case 0:d.bottom=0,d.left=e}return D.createElement("div",{style:d})},allowDrop:function(){return!0},expandAction:!1}),l(Ze,"TreeNode",ce);export{ce as C,Ze as T,Se as a,X as b,Nt as c,z as d,Ve as e,he as f,mt as g};
