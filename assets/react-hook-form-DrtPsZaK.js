import{a as F}from"./react-Bi3d65_o.js";var ce=e=>e.type==="checkbox",ae=e=>e instanceof Date,R=e=>e==null;const Ke=e=>typeof e=="object";var T=e=>!R(e)&&!Array.isArray(e)&&Ke(e)&&!ae(e),Qe=e=>T(e)&&e.target?ce(e.target)?e.target.checked:e.target.value:e,Xe=(e,a)=>e.has((t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t)(a)),cr=e=>{const a=e.constructor&&e.constructor.prototype;return T(a)&&a.hasOwnProperty("isPrototypeOf")},ke=typeof window<"u"&&window.HTMLElement!==void 0&&typeof document<"u";function P(e){let a;const t=Array.isArray(e);if(e instanceof Date)a=new Date(e);else if(e instanceof Set)a=new Set(e);else{if(ke&&(e instanceof Blob||e instanceof FileList)||!t&&!T(e))return e;if(a=t?[]:{},t||cr(e))for(const s in e)e.hasOwnProperty(s)&&(a[s]=P(e[s]));else a=e}return a}var pe=e=>Array.isArray(e)?e.filter(Boolean):[],E=e=>e===void 0,c=(e,a,t)=>{if(!a||!T(e))return t;const s=pe(a.split(/[,[\].]+?/)).reduce((n,o)=>R(n)?n:n[o],e);return E(s)||s===e?E(e[a])?t:e[a]:s},X=e=>typeof e=="boolean",Ee=e=>/^\w*$/.test(e),Ye=e=>pe(e.replace(/["|']|\]/g,"").split(/\.|\[/)),S=(e,a,t)=>{let s=-1;const n=Ee(a)?[a]:Ye(a),o=n.length,d=o-1;for(;++s<o;){const g=n[s];let h=t;if(s!==d){const L=e[g];h=T(L)||Array.isArray(L)?L:isNaN(+n[s+1])?{}:[]}if(g==="__proto__")return;e[g]=h,e=e[g]}return e};const ve={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},G={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},fr="max",mr="min",yr="maxLength",vr="minLength",Ne="pattern",Me="required",gr="validate",Ze=F.createContext(null),Ae=()=>F.useContext(Ze),kr=e=>{const{children:a,...t}=e;return F.createElement(Ze.Provider,{value:t},a)};var ze=(e,a,t,s=!0)=>{const n={defaultValues:a._defaultValues};for(const o in e)Object.defineProperty(n,o,{get:()=>{const d=o;return a._proxyFormState[d]!==G.all&&(a._proxyFormState[d]=!s||G.all),t&&(t[d]=!0),e[d]}});return n},q=e=>T(e)&&!Object.keys(e).length,er=(e,a,t,s)=>{t(e);const{name:n,...o}=e;return q(o)||Object.keys(o).length>=Object.keys(a).length||Object.keys(o).find(d=>a[d]===(!s||G.all))},ue=e=>Array.isArray(e)?e:[e],Re=(e,a,t)=>!e||!a||e===a||ue(e).some(s=>s&&(t?s===a:s.startsWith(a)||a.startsWith(s)));function De(e){const a=F.useRef(e);a.current=e,F.useEffect(()=>{const t=!e.disabled&&a.current.subject&&a.current.subject.subscribe({next:a.current.next});return()=>{t&&t.unsubscribe()}},[e.disabled])}var Y=e=>typeof e=="string",rr=(e,a,t,s,n)=>Y(e)?(s&&a.watch.add(e),c(t,e,n)):Array.isArray(e)?e.map(o=>(s&&a.watch.add(o),c(t,o))):(s&&(a.watchAll=!0),t);function hr(e){const a=Ae(),{name:t,disabled:s,control:n=a.control,shouldUnregister:o}=e,d=Xe(n._names.array,t),g=function(p){const v=Ae(),{control:w=v.control,name:B,defaultValue:k,disabled:W,exact:H}=p||{},J=F.useRef(B);J.current=B,De({disabled:W,subject:w._subjects.values,next:O=>{Re(J.current,O.name,H)&&N(P(rr(J.current,w._names,O.values||w._formValues,!1,k)))}});const[b,N]=F.useState(w._getWatch(B,k));return F.useEffect(()=>w._removeUnmounted()),b}({control:n,name:t,defaultValue:c(n._formValues,t,c(n._defaultValues,t,e.defaultValue)),exact:!0}),h=function(p){const v=Ae(),{control:w=v.control,disabled:B,name:k,exact:W}=p||{},[H,J]=F.useState(w._formState),b=F.useRef(!0),N=F.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),O=F.useRef(k);return O.current=k,De({disabled:B,next:A=>b.current&&Re(O.current,A.name,W)&&er(A,N.current,w._updateFormState)&&J({...w._formState,...A}),subject:w._subjects.state}),F.useEffect(()=>(b.current=!0,N.current.isValid&&w._updateValid(!0),()=>{b.current=!1}),[w]),ze(H,w,N.current,!1)}({control:n,name:t,exact:!0}),L=F.useRef(n.register(t,{...e.rules,value:g,...X(e.disabled)?{disabled:e.disabled}:{}}));return F.useEffect(()=>{const p=n._options.shouldUnregister||o,v=(w,B)=>{const k=c(n._fields,w);k&&k._f&&(k._f.mount=B)};if(v(t,!0),p){const w=P(c(n._options.defaultValues,t));S(n._defaultValues,t,w),E(c(n._formValues,t))&&S(n._formValues,t,w)}return()=>{(d?p&&!n._state.action:p)?n.unregister(t):v(t,!1)}},[t,n,d,o]),F.useEffect(()=>{c(n._fields,t)&&n._updateDisabledField({disabled:s,fields:n._fields,name:t,value:c(n._fields,t)._f.value})},[s,t,n]),{field:{name:t,value:g,...X(s)||h.disabled?{disabled:h.disabled||s}:{},onChange:F.useCallback(p=>L.current.onChange({target:{value:Qe(p),name:t},type:ve.CHANGE}),[t]),onBlur:F.useCallback(()=>L.current.onBlur({target:{value:c(n._formValues,t),name:t},type:ve.BLUR}),[t,n]),ref:F.useCallback(p=>{const v=c(n._fields,t);v&&p&&(v._f.ref={focus:()=>p.focus(),select:()=>p.select(),setCustomValidity:w=>p.setCustomValidity(w),reportValidity:()=>p.reportValidity()})},[n._fields,t])},formState:h,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!c(h.errors,t)},isDirty:{enumerable:!0,get:()=>!!c(h.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!c(h.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!c(h.validatingFields,t)},error:{enumerable:!0,get:()=>c(h.errors,t)}})}}const Er=e=>e.render(hr(e));var br=(e,a,t,s,n)=>a?{...t[e],types:{...t[e]&&t[e].types?t[e].types:{},[s]:n||!0}}:{},Pe=e=>({isOnSubmit:!e||e===G.onSubmit,isOnBlur:e===G.onBlur,isOnChange:e===G.onChange,isOnAll:e===G.all,isOnTouch:e===G.onTouched}),qe=(e,a,t)=>!t&&(a.watchAll||a.watch.has(e)||[...a.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const de=(e,a,t,s)=>{for(const n of t||Object.keys(e)){const o=c(e,n);if(o){const{_f:d,...g}=o;if(d){if(d.refs&&d.refs[0]&&a(d.refs[0],n)&&!s||d.ref&&a(d.ref,d.name)&&!s)break;de(g,a)}else T(g)&&de(g,a)}}};var _r=(e,a,t)=>{const s=ue(c(e,t));return S(s,"root",a[t]),S(e,t,s),e},Ce=e=>e.type==="file",Z=e=>typeof e=="function",ge=e=>{if(!ke)return!1;const a=e?e.ownerDocument:0;return e instanceof(a&&a.defaultView?a.defaultView.HTMLElement:HTMLElement)},ye=e=>Y(e),Oe=e=>e.type==="radio",he=e=>e instanceof RegExp;const We={value:!1,isValid:!1},He={value:!0,isValid:!0};var tr=e=>{if(Array.isArray(e)){if(e.length>1){const a=e.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:a,isValid:!!a.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!E(e[0].attributes.value)?E(e[0].value)||e[0].value===""?He:{value:e[0].value,isValid:!0}:He:We}return We};const Ie={isValid:!1,value:null};var sr=e=>Array.isArray(e)?e.reduce((a,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:a,Ie):Ie;function $e(e,a,t="validate"){if(ye(e)||Array.isArray(e)&&e.every(ye)||X(e)&&!e)return{type:t,message:ye(e)?e:"",ref:a}}var se=e=>T(e)&&!he(e)?e:{value:e,message:""},Ge=async(e,a,t,s,n)=>{const{ref:o,refs:d,required:g,maxLength:h,minLength:L,min:p,max:v,pattern:w,validate:B,name:k,valueAsNumber:W,mount:H,disabled:J}=e._f,b=c(a,k);if(!H||J)return{};const N=d?d[0]:o,O=V=>{s&&N.reportValidity&&(N.setCustomValidity(X(V)?"":V||""),N.reportValidity())},A={},K=Oe(o),re=ce(o),ie=K||re,z=(W||Ce(o))&&E(o.value)&&E(b)||ge(o)&&o.value===""||b===""||Array.isArray(b)&&!b.length,Q=br.bind(null,k,t,A),ne=(V,D,C,M=yr,I=vr)=>{const $=V?D:C;A[k]={type:V?M:I,message:$,ref:o,...Q(V?M:I,$)}};if(n?!Array.isArray(b)||!b.length:g&&(!ie&&(z||R(b))||X(b)&&!b||re&&!tr(d).isValid||K&&!sr(d).isValid)){const{value:V,message:D}=ye(g)?{value:!!g,message:g}:se(g);if(V&&(A[k]={type:Me,message:D,ref:N,...Q(Me,D)},!t))return O(D),A}if(!(z||R(p)&&R(v))){let V,D;const C=se(v),M=se(p);if(R(b)||isNaN(b)){const I=o.valueAsDate||new Date(b),$=fe=>new Date(new Date().toDateString()+" "+fe),le=o.type=="time",te=o.type=="week";Y(C.value)&&b&&(V=le?$(b)>$(C.value):te?b>C.value:I>new Date(C.value)),Y(M.value)&&b&&(D=le?$(b)<$(M.value):te?b<M.value:I<new Date(M.value))}else{const I=o.valueAsNumber||b&&+b;R(C.value)||(V=I>C.value),R(M.value)||(D=I<M.value)}if((V||D)&&(ne(!!V,C.message,M.message,fr,mr),!t))return O(A[k].message),A}if((h||L)&&!z&&(Y(b)||n&&Array.isArray(b))){const V=se(h),D=se(L),C=!R(V.value)&&b.length>+V.value,M=!R(D.value)&&b.length<+D.value;if((C||M)&&(ne(C,V.message,D.message),!t))return O(A[k].message),A}if(w&&!z&&Y(b)){const{value:V,message:D}=se(w);if(he(V)&&!b.match(V)&&(A[k]={type:Ne,message:D,ref:o,...Q(Ne,D)},!t))return O(D),A}if(B){if(Z(B)){const V=$e(await B(b,a),N);if(V&&(A[k]={...V,...Q(gr,V.message)},!t))return O(V.message),A}else if(T(B)){let V={};for(const D in B){if(!q(V)&&!t)break;const C=$e(await B[D](b,a),N,D);C&&(V={...C,...Q(D,C.message)},O(C.message),t&&(A[k]=V))}if(!q(V)&&(A[k]={ref:N,...V},!t))return A}}return O(!0),A};function U(e,a){const t=Array.isArray(a)?a:Ee(a)?[a]:Ye(a),s=t.length===1?e:function(d,g){const h=g.slice(0,-1).length;let L=0;for(;L<h;)d=E(d)?L++:d[g[L++]];return d}(e,t),n=t.length-1,o=t[n];return s&&delete s[o],n!==0&&(T(s)&&q(s)||Array.isArray(s)&&function(d){for(const g in d)if(d.hasOwnProperty(g)&&!E(d[g]))return!1;return!0}(s))&&U(e,t.slice(0,-1)),e}var Se=()=>{let e=[];return{get observers(){return e},next:a=>{for(const t of e)t.next&&t.next(a)},subscribe:a=>(e.push(a),{unsubscribe:()=>{e=e.filter(t=>t!==a)}}),unsubscribe:()=>{e=[]}}},be=e=>R(e)||!Ke(e);function ee(e,a){if(be(e)||be(a))return e===a;if(ae(e)&&ae(a))return e.getTime()===a.getTime();const t=Object.keys(e),s=Object.keys(a);if(t.length!==s.length)return!1;for(const n of t){const o=e[n];if(!s.includes(n))return!1;if(n!=="ref"){const d=a[n];if(ae(o)&&ae(d)||T(o)&&T(d)||Array.isArray(o)&&Array.isArray(d)?!ee(o,d):o!==d)return!1}}return!0}var ar=e=>e.type==="select-multiple",pr=e=>Oe(e)||ce(e),xe=e=>ge(e)&&e.isConnected,ir=e=>{for(const a in e)if(Z(e[a]))return!0;return!1};function _e(e,a={}){const t=Array.isArray(e);if(T(e)||t)for(const s in e)Array.isArray(e[s])||T(e[s])&&!ir(e[s])?(a[s]=Array.isArray(e[s])?[]:{},_e(e[s],a[s])):R(e[s])||(a[s]=!0);return a}function nr(e,a,t){const s=Array.isArray(e);if(T(e)||s)for(const n in e)Array.isArray(e[n])||T(e[n])&&!ir(e[n])?E(a)||be(t[n])?t[n]=Array.isArray(e[n])?_e(e[n],[]):{..._e(e[n])}:nr(e[n],R(a)?{}:a[n],t[n]):t[n]=!ee(e[n],a[n]);return t}var me=(e,a)=>nr(e,a,_e(a)),lr=(e,{valueAsNumber:a,valueAsDate:t,setValueAs:s})=>E(e)?e:a?e===""?NaN:e&&+e:t&&Y(e)?new Date(e):s?s(e):e;function we(e){const a=e.ref;if(!(e.refs?e.refs.every(t=>t.disabled):a.disabled))return Ce(a)?a.files:Oe(a)?sr(e.refs).value:ar(a)?[...a.selectedOptions].map(({value:t})=>t):ce(a)?tr(e.refs).value:lr(E(a.value)?e.ref.value:a.value,e)}var Vr=(e,a,t,s)=>{const n={};for(const o of e){const d=c(a,o);d&&S(n,o,d._f)}return{criteriaMode:t,names:[...e],fields:n,shouldUseNativeValidation:s}},oe=e=>E(e)?e:he(e)?e.source:T(e)?he(e.value)?e.value.source:e.value:e,Fr=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate);function Je(e,a,t){const s=c(e,t);if(s||Ee(t))return{error:s,name:t};const n=t.split(".");for(;n.length;){const o=n.join("."),d=c(a,o),g=c(e,o);if(d&&!Array.isArray(d)&&t!==o)return{name:t};if(g&&g.type)return{name:o,error:g};n.pop()}return{name:t}}var Ar=(e,a,t,s,n)=>!n.isOnAll&&(!t&&n.isOnTouch?!(a||e):(t?s.isOnBlur:n.isOnBlur)?!e:!(t?s.isOnChange:n.isOnChange)||e),Sr=(e,a)=>!pe(c(e,a)).length&&U(e,a);const xr={mode:G.onSubmit,reValidateMode:G.onChange,shouldFocusError:!0};function wr(e={}){let a,t={...xr,...e},s={submitCount:0,isDirty:!1,isLoading:Z(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},o=(T(t.defaultValues)||T(t.values))&&P(t.defaultValues||t.values)||{},d=t.shouldUnregister?{}:P(o),g={action:!1,mount:!1,watch:!1},h={mount:new Set,unMount:new Set,array:new Set,watch:new Set},L=0;const p={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},v={values:Se(),array:Se(),state:Se()},w=Pe(t.mode),B=Pe(t.reValidateMode),k=t.criteriaMode===G.all,W=async r=>{if(p.isValid||r){const i=t.resolver?q((await O()).errors):await A(n,!0);i!==s.isValid&&v.state.next({isValid:i})}},H=(r,i)=>{(p.isValidating||p.validatingFields)&&((r||Array.from(h.mount)).forEach(l=>{l&&(i?S(s.validatingFields,l,i):U(s.validatingFields,l))}),v.state.next({validatingFields:s.validatingFields,isValidating:!q(s.validatingFields)}))},J=(r,i,l,m)=>{const f=c(n,r);if(f){const u=c(d,r,E(l)?c(o,r):l);E(u)||m&&m.defaultChecked||i?S(d,r,i?u:we(f._f)):ie(r,u),g.mount&&W()}},b=(r,i,l,m,f)=>{let u=!1,y=!1;const _={name:r},x=!!(c(n,r)&&c(n,r)._f&&c(n,r)._f.disabled);if(!l||m){p.isDirty&&(y=s.isDirty,s.isDirty=_.isDirty=K(),u=y!==_.isDirty);const j=x||ee(c(o,r),i);y=!(x||!c(s.dirtyFields,r)),j||x?U(s.dirtyFields,r):S(s.dirtyFields,r,!0),_.dirtyFields=s.dirtyFields,u=u||p.dirtyFields&&y!==!j}if(l){const j=c(s.touchedFields,r);j||(S(s.touchedFields,r,l),_.touchedFields=s.touchedFields,u=u||p.touchedFields&&j!==l)}return u&&f&&v.state.next(_),u?_:{}},N=(r,i,l,m)=>{const f=c(s.errors,r),u=p.isValid&&X(i)&&s.isValid!==i;var y;if(e.delayError&&l?(y=()=>((_,x)=>{S(s.errors,_,x),v.state.next({errors:s.errors})})(r,l),a=_=>{clearTimeout(L),L=setTimeout(y,_)},a(e.delayError)):(clearTimeout(L),a=null,l?S(s.errors,r,l):U(s.errors,r)),(l?!ee(f,l):f)||!q(m)||u){const _={...m,...u&&X(i)?{isValid:i}:{},errors:s.errors,name:r};s={...s,..._},v.state.next(_)}},O=async r=>{H(r,!0);const i=await t.resolver(d,t.context,Vr(r||h.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return H(r),i},A=async(r,i,l={valid:!0})=>{for(const m in r){const f=r[m];if(f){const{_f:u,...y}=f;if(u){const _=h.array.has(u.name);H([m],!0);const x=await Ge(f,d,k,t.shouldUseNativeValidation&&!i,_);if(H([m]),x[u.name]&&(l.valid=!1,i))break;!i&&(c(x,u.name)?_?_r(s.errors,x,u.name):S(s.errors,u.name,x[u.name]):U(s.errors,u.name))}!q(y)&&await A(y,i,l)}}return l.valid},K=(r,i)=>(r&&i&&S(d,r,i),!ee(C(),o)),re=(r,i,l)=>rr(r,h,{...g.mount?d:E(i)?o:Y(r)?{[r]:i}:i},l,i),ie=(r,i,l={})=>{const m=c(n,r);let f=i;if(m){const u=m._f;u&&(!u.disabled&&S(d,r,lr(i,u)),f=ge(u.ref)&&R(i)?"":i,ar(u.ref)?[...u.ref.options].forEach(y=>y.selected=f.includes(y.value)):u.refs?ce(u.ref)?u.refs.length>1?u.refs.forEach(y=>(!y.defaultChecked||!y.disabled)&&(y.checked=Array.isArray(f)?!!f.find(_=>_===y.value):f===y.value)):u.refs[0]&&(u.refs[0].checked=!!f):u.refs.forEach(y=>y.checked=y.value===f):Ce(u.ref)?u.ref.value="":(u.ref.value=f,u.ref.type||v.values.next({name:r,values:{...d}})))}(l.shouldDirty||l.shouldTouch)&&b(r,f,l.shouldTouch,l.shouldDirty,!0),l.shouldValidate&&D(r)},z=(r,i,l)=>{for(const m in i){const f=i[m],u=`${r}.${m}`,y=c(n,u);!h.array.has(r)&&be(f)&&(!y||y._f)||ae(f)?ie(u,f,l):z(u,f,l)}},Q=(r,i,l={})=>{const m=c(n,r),f=h.array.has(r),u=P(i);S(d,r,u),f?(v.array.next({name:r,values:{...d}}),(p.isDirty||p.dirtyFields)&&l.shouldDirty&&v.state.next({name:r,dirtyFields:me(o,d),isDirty:K(r,u)})):!m||m._f||R(u)?ie(r,u,l):z(r,u,l),qe(r,h)&&v.state.next({...s}),v.values.next({name:g.mount?r:void 0,values:{...d}})},ne=async r=>{g.mount=!0;const i=r.target;let l=i.name,m=!0;const f=c(n,l),u=y=>{m=Number.isNaN(y)||y===c(d,l,y)};if(f){let y,_;const x=i.type?we(f._f):Qe(r),j=r.type===ve.BLUR||r.type===ve.FOCUS_OUT,or=!Fr(f._f)&&!t.resolver&&!c(s.errors,l)&&!f._f.deps||Ar(j,c(s.touchedFields,l),s.isSubmitted,B,w),Ve=qe(l,h,j);S(d,l,x),j?(f._f.onBlur&&f._f.onBlur(r),a&&a(0)):f._f.onChange&&f._f.onChange(r);const Fe=b(l,x,j,!1),ur=!q(Fe)||Ve;if(!j&&v.values.next({name:l,type:r.type,values:{...d}}),or)return p.isValid&&W(),ur&&v.state.next({name:l,...Ve?{}:Fe});if(!j&&Ve&&v.state.next({...s}),t.resolver){const{errors:Le}=await O([l]);if(u(x),m){const dr=Je(s.errors,n,l),Be=Je(Le,n,dr.name||l);y=Be.error,l=Be.name,_=q(Le)}}else H([l],!0),y=(await Ge(f,d,k,t.shouldUseNativeValidation))[l],H([l]),u(x),m&&(y?_=!1:p.isValid&&(_=await A(n,!0)));m&&(f._f.deps&&D(f._f.deps),N(l,_,y,Fe))}},V=(r,i)=>{if(c(s.errors,i)&&r.focus)return r.focus(),1},D=async(r,i={})=>{let l,m;const f=ue(r);if(t.resolver){const u=await(async y=>{const{errors:_}=await O(y);if(y)for(const x of y){const j=c(_,x);j?S(s.errors,x,j):U(s.errors,x)}else s.errors=_;return _})(E(r)?r:f);l=q(u),m=r?!f.some(y=>c(u,y)):l}else r?(m=(await Promise.all(f.map(async u=>{const y=c(n,u);return await A(y&&y._f?{[u]:y}:y)}))).every(Boolean),(m||s.isValid)&&W()):m=l=await A(n);return v.state.next({...!Y(r)||p.isValid&&l!==s.isValid?{}:{name:r},...t.resolver||!r?{isValid:l}:{},errors:s.errors}),i.shouldFocus&&!m&&de(n,V,r?f:h.mount),m},C=r=>{const i={...g.mount?d:o};return E(r)?i:Y(r)?c(i,r):r.map(l=>c(i,l))},M=(r,i)=>({invalid:!!c((i||s).errors,r),isDirty:!!c((i||s).dirtyFields,r),error:c((i||s).errors,r),isValidating:!!c(s.validatingFields,r),isTouched:!!c((i||s).touchedFields,r)}),I=(r,i,l)=>{const m=(c(n,r,{_f:{}})._f||{}).ref,f=c(s.errors,r)||{},{ref:u,message:y,type:_,...x}=f;S(s.errors,r,{...x,...i,ref:m}),v.state.next({name:r,errors:s.errors,isValid:!1}),l&&l.shouldFocus&&m&&m.focus&&m.focus()},$=(r,i={})=>{for(const l of r?ue(r):h.mount)h.mount.delete(l),h.array.delete(l),i.keepValue||(U(n,l),U(d,l)),!i.keepError&&U(s.errors,l),!i.keepDirty&&U(s.dirtyFields,l),!i.keepTouched&&U(s.touchedFields,l),!i.keepIsValidating&&U(s.validatingFields,l),!t.shouldUnregister&&!i.keepDefaultValue&&U(o,l);v.values.next({values:{...d}}),v.state.next({...s,...i.keepDirty?{isDirty:K()}:{}}),!i.keepIsValid&&W()},le=({disabled:r,name:i,field:l,fields:m,value:f})=>{if(X(r)&&g.mount||r){const u=r?void 0:E(f)?we(l?l._f:c(m,i)._f):f;S(d,i,u),b(i,u,!1,!1,!0)}},te=(r,i={})=>{let l=c(n,r);const m=X(i.disabled);return S(n,r,{...l||{},_f:{...l&&l._f?l._f:{ref:{name:r}},name:r,mount:!0,...i}}),h.mount.add(r),l?le({field:l,disabled:i.disabled,name:r,value:i.value}):J(r,!0,i.value),{...m?{disabled:i.disabled}:{},...t.progressive?{required:!!i.required,min:oe(i.min),max:oe(i.max),minLength:oe(i.minLength),maxLength:oe(i.maxLength),pattern:oe(i.pattern)}:{},name:r,onChange:ne,onBlur:ne,ref:f=>{if(f){te(r,i),l=c(n,r);const u=E(f.value)&&f.querySelectorAll&&f.querySelectorAll("input,select,textarea")[0]||f,y=pr(u),_=l._f.refs||[];if(y?_.find(x=>x===u):u===l._f.ref)return;S(n,r,{_f:{...l._f,...y?{refs:[..._.filter(xe),u,...Array.isArray(c(o,r))?[{}]:[]],ref:{type:u.type,name:r}}:{ref:u}}}),J(r,!1,void 0,u)}else l=c(n,r,{}),l._f&&(l._f.mount=!1),(t.shouldUnregister||i.shouldUnregister)&&(!Xe(h.array,r)||!g.action)&&h.unMount.add(r)}}},fe=()=>t.shouldFocusError&&de(n,V,h.mount),Ue=(r,i)=>async l=>{let m;l&&(l.preventDefault&&l.preventDefault(),l.persist&&l.persist());let f=P(d);if(v.state.next({isSubmitting:!0}),t.resolver){const{errors:u,values:y}=await O();s.errors=u,f=y}else await A(n);if(U(s.errors,"root"),q(s.errors)){v.state.next({errors:{}});try{await r(f,l)}catch(u){m=u}}else i&&await i({...s.errors},l),fe(),setTimeout(fe);if(v.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:q(s.errors)&&!m,submitCount:s.submitCount+1,errors:s.errors}),m)throw m},Te=(r,i={})=>{const l=r?P(r):o,m=P(l),f=q(r),u=f?o:m;if(i.keepDefaultValues||(o=l),!i.keepValues){if(i.keepDirtyValues)for(const y of h.mount)c(s.dirtyFields,y)?S(u,y,c(d,y)):Q(y,c(u,y));else{if(ke&&E(r))for(const y of h.mount){const _=c(n,y);if(_&&_._f){const x=Array.isArray(_._f.refs)?_._f.refs[0]:_._f.ref;if(ge(x)){const j=x.closest("form");if(j){j.reset();break}}}}n={}}d=e.shouldUnregister?i.keepDefaultValues?P(o):{}:P(u),v.array.next({values:{...u}}),v.values.next({values:{...u}})}h={mount:i.keepDirtyValues?h.mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},g.mount=!p.isValid||!!i.keepIsValid||!!i.keepDirtyValues,g.watch=!!e.shouldUnregister,v.state.next({submitCount:i.keepSubmitCount?s.submitCount:0,isDirty:!f&&(i.keepDirty?s.isDirty:!(!i.keepDefaultValues||ee(r,o))),isSubmitted:!!i.keepIsSubmitted&&s.isSubmitted,dirtyFields:f?{}:i.keepDirtyValues?i.keepDefaultValues&&d?me(o,d):s.dirtyFields:i.keepDefaultValues&&r?me(o,r):i.keepDirty?s.dirtyFields:{},touchedFields:i.keepTouched?s.touchedFields:{},errors:i.keepErrors?s.errors:{},isSubmitSuccessful:!!i.keepIsSubmitSuccessful&&s.isSubmitSuccessful,isSubmitting:!1})},je=(r,i)=>Te(Z(r)?r(d):r,i);return{control:{register:te,unregister:$,getFieldState:M,handleSubmit:Ue,setError:I,_executeSchema:O,_getWatch:re,_getDirty:K,_updateValid:W,_removeUnmounted:()=>{for(const r of h.unMount){const i=c(n,r);i&&(i._f.refs?i._f.refs.every(l=>!xe(l)):!xe(i._f.ref))&&$(r)}h.unMount=new Set},_updateFieldArray:(r,i=[],l,m,f=!0,u=!0)=>{if(m&&l){if(g.action=!0,u&&Array.isArray(c(n,r))){const y=l(c(n,r),m.argA,m.argB);f&&S(n,r,y)}if(u&&Array.isArray(c(s.errors,r))){const y=l(c(s.errors,r),m.argA,m.argB);f&&S(s.errors,r,y),Sr(s.errors,r)}if(p.touchedFields&&u&&Array.isArray(c(s.touchedFields,r))){const y=l(c(s.touchedFields,r),m.argA,m.argB);f&&S(s.touchedFields,r,y)}p.dirtyFields&&(s.dirtyFields=me(o,d)),v.state.next({name:r,isDirty:K(r,i),dirtyFields:s.dirtyFields,errors:s.errors,isValid:s.isValid})}else S(d,r,i)},_updateDisabledField:le,_getFieldArray:r=>pe(c(g.mount?d:o,r,e.shouldUnregister?c(o,r,[]):[])),_reset:Te,_resetDefaultValues:()=>Z(t.defaultValues)&&t.defaultValues().then(r=>{je(r,t.resetOptions),v.state.next({isLoading:!1})}),_updateFormState:r=>{s={...s,...r}},_disableForm:r=>{X(r)&&(v.state.next({disabled:r}),de(n,(i,l)=>{const m=c(n,l);m&&(i.disabled=m._f.disabled||r,Array.isArray(m._f.refs)&&m._f.refs.forEach(f=>{f.disabled=m._f.disabled||r}))},0,!1))},_subjects:v,_proxyFormState:p,_setErrors:r=>{s.errors=r,v.state.next({errors:s.errors,isValid:!1})},get _fields(){return n},get _formValues(){return d},get _state(){return g},set _state(r){g=r},get _defaultValues(){return o},get _names(){return h},set _names(r){h=r},get _formState(){return s},set _formState(r){s=r},get _options(){return t},set _options(r){t={...t,...r}}},trigger:D,register:te,handleSubmit:Ue,watch:(r,i)=>Z(r)?v.values.subscribe({next:l=>r(re(void 0,i),l)}):re(r,i,!0),setValue:Q,getValues:C,reset:je,resetField:(r,i={})=>{c(n,r)&&(E(i.defaultValue)?Q(r,P(c(o,r))):(Q(r,i.defaultValue),S(o,r,P(i.defaultValue))),i.keepTouched||U(s.touchedFields,r),i.keepDirty||(U(s.dirtyFields,r),s.isDirty=i.defaultValue?K(r,P(c(o,r))):K()),i.keepError||(U(s.errors,r),p.isValid&&W()),v.state.next({...s}))},clearErrors:r=>{r&&ue(r).forEach(i=>U(s.errors,i)),v.state.next({errors:r?s.errors:{}})},unregister:$,setError:I,setFocus:(r,i={})=>{const l=c(n,r),m=l&&l._f;if(m){const f=m.refs?m.refs[0]:m.ref;f.focus&&(f.focus(),i.shouldSelect&&f.select())}},getFieldState:M}}function Cr(e={}){const a=F.useRef(),t=F.useRef(),[s,n]=F.useState({isDirty:!1,isValidating:!1,isLoading:Z(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Z(e.defaultValues)?void 0:e.defaultValues});a.current||(a.current={...wr(e),formState:s});const o=a.current.control;return o._options=e,De({subject:o._subjects.state,next:d=>{er(d,o._proxyFormState,o._updateFormState,!0)&&n({...o._formState})}}),F.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),F.useEffect(()=>{if(o._proxyFormState.isDirty){const d=o._getDirty();d!==s.isDirty&&o._subjects.state.next({isDirty:d})}},[o,s.isDirty]),F.useEffect(()=>{e.values&&!ee(e.values,t.current)?(o._reset(e.values,o._options.resetOptions),t.current=e.values,n(d=>({...d}))):o._resetDefaultValues()},[e.values,o]),F.useEffect(()=>{e.errors&&o._setErrors(e.errors)},[e.errors,o]),F.useEffect(()=>{o._state.mount||(o._updateValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),F.useEffect(()=>{e.shouldUnregister&&o._subjects.values.next({values:o._getWatch()})},[e.shouldUnregister,o]),a.current.formState=ze(s,o),a.current}export{Er as C,kr as F,br as a,Cr as b,c as g,S as s,Ae as u};
