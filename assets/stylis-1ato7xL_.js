var K="comm",I="rule",B="decl",N=Math.abs,_=String.fromCharCode;function P(e){return e.trim()}function R(e,r,t){return e.replace(r,t)}function Q(e,r,t){return e.indexOf(r,t)}function M(e,r){return 0|e.charCodeAt(r)}function g(e,r,t){return e.slice(r,t)}function p(e){return e.length}function H(e,r){return r.push(e),e}var V=1,E=1,J=0,l=0,c=0,F="";function $(e,r,t,a,s,k,A,f){return{value:e,root:r,parent:t,type:a,props:s,children:k,line:V,column:E,length:A,return:"",siblings:f}}function ee(){return c=l>0?M(F,--l):0,E--,c===10&&(E=1,V--),c}function h(){return c=l<J?M(F,l++):0,E++,c===10&&(E=1,V++),c}function z(){return M(F,l)}function T(){return l}function W(e,r){return g(F,e,r)}function Y(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function X(e){return P(W(l-1,Z(e===91?e+2:e===40?e+1:e)))}function re(e){for(;(c=z())&&c<33;)h();return Y(e)>2||Y(c)>3?"":" "}function ne(e,r){for(;--r&&h()&&!(c<48||c>102||c>57&&c<65||c>70&&c<97););return W(e,T()+(r<6&&z()==32&&h()==32))}function Z(e){for(;h();)switch(c){case e:return l;case 34:case 39:e!==34&&e!==39&&Z(c);break;case 40:e===41&&Z(e);break;case 92:h()}return l}function te(e,r){for(;h()&&e+c!==57&&(e+c!==84||z()!==47););return"/*"+W(r,l-1)+"*"+_(e===47?e:h())}function ae(e){for(;!Y(z());)h();return W(e,l)}function ue(e){return function(r){return F="",r}(U("",null,null,null,[""],e=function(r){return V=E=1,J=p(F=r),l=0,[]}(e),0,[0],e))}function U(e,r,t,a,s,k,A,f,w){for(var v=0,y=0,i=A,D=0,C=0,q=0,o=1,G=1,m=1,u=0,O="",x=s,b=k,d=a,n=O;G;)switch(q=u,u=h()){case 40:if(q!=108&&M(n,i-1)==58){Q(n+=R(X(u),"&","&\f"),"&\f",N(v?f[v-1]:0))!=-1&&(m=-1);break}case 34:case 39:case 91:n+=X(u);break;case 9:case 10:case 13:case 32:n+=re(q);break;case 92:n+=ne(T()-1,7);continue;case 47:switch(z()){case 42:case 47:H(ce(te(h(),T()),r,t,w),w);break;default:n+="/"}break;case 123*o:f[v++]=p(n)*m;case 125*o:case 59:case 0:switch(u){case 0:case 125:G=0;case 59+y:m==-1&&(n=R(n,/\f/g,"")),C>0&&p(n)-i&&H(C>32?L(n+";",a,t,i-1,w):L(R(n," ","")+";",a,t,i-2,w),w);break;case 59:n+=";";default:if(H(d=S(n,r,t,v,y,s,f,O,x=[],b=[],i,k),k),u===123)if(y===0)U(n,r,d,d,x,k,i,f,b);else switch(D===99&&M(n,3)===110?100:D){case 100:case 108:case 109:case 115:U(e,d,d,a&&H(S(e,d,d,0,0,s,f,O,s,x=[],i,b),b),s,b,i,f,a?x:b);break;default:U(n,d,d,d,[""],b,0,f,b)}}v=y=C=0,o=m=1,O=n="",i=A;break;case 58:i=1+p(n),C=q;default:if(o<1){if(u==123)--o;else if(u==125&&o++==0&&ee()==125)continue}switch(n+=_(u),u*o){case 38:m=y>0?1:(n+="\f",-1);break;case 44:f[v++]=(p(n)-1)*m,m=1;break;case 64:z()===45&&(n+=X(h())),D=z(),y=i=p(O=n+=ae(T())),u++;break;case 45:q===45&&p(n)==2&&(o=0)}}return k}function S(e,r,t,a,s,k,A,f,w,v,y,i){for(var D=s-1,C=s===0?k:[""],q=function(b){return b.length}(C),o=0,G=0,m=0;o<a;++o)for(var u=0,O=g(e,D+1,D=N(G=A[o])),x=e;u<q;++u)(x=P(G>0?C[u]+" "+O:R(O,/&\f/g,C[u])))&&(w[m++]=x);return $(e,r,t,s===0?I:f,w,v,y,i)}function ce(e,r,t,a){return $(e,r,t,K,_(c),g(e,2,-2),0,a)}function L(e,r,t,a,s){return $(e,r,t,B,g(e,0,a),g(e,a+1,-1),a,s)}function j(e,r){for(var t="",a=0;a<e.length;a++)t+=r(e[a],a,e,r)||"";return t}function se(e,r,t,a){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case B:return e.return=e.return||e.value;case K:return"";case"@keyframes":return e.return=e.value+"{"+j(e.children,a)+"}";case I:if(!p(e.value=e.props.join(",")))return""}return p(t=j(e.children,a))?e.return=e.value+"{"+t+"}":""}export{se as a,ue as c,j as s};
