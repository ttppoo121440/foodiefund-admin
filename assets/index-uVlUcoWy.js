var xe=Object.defineProperty;var he=(r,a,t)=>a in r?xe(r,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[a]=t;var se=(r,a,t)=>(he(r,typeof a!="symbol"?a+"":a,t),t);import{j as e,r as c,a as be}from"./react-Bi3d65_o.js";import{c as je}from"./react-dom-DttoD7qq.js";import{L as z,B as ye}from"./react-router-dom-CNkp-S8u.js";import{L as _,M as fe,R as H,C as O,a as J,I as le,D as ke,S as oe,b as ve,F as Se,c as M,d as de,e as T,f as Ie,T as Ce,B as Z,g as ce,s as Le,h as ne,i as Be,j as Ee}from"./antd-CV-6qoMz.js";import{b as we,d as Fe,e as A}from"./react-router-DeUjcAIS.js";import{T as Oe,U as ue,V as Pe,W as De,X as qe,Y as ze,Z as Ae,w as Te,_ as _e,$ as Me,a0 as Ve}from"./@ant-design-DEQSkco9.js";import{L as $e,P as We,B as me}from"./react-chartjs-2-DvCJRGMk.js";import{C as W,a as te,b as ae,c as Ye,d as Ne,p as re,e as Y,f as N,A as Ke,g as pe}from"./chart.js-B7ur4JDz.js";import{u as V,C as K,b as Qe,F as Re}from"./react-hook-form-DrtPsZaK.js";import{t as ie}from"./@hookform-D0evxqJq.js";import{d as w}from"./dayjs-DIA0-yFM.js";import{u as Ue,a as Q,b as R,Q as Ge,c as He}from"./@tanstack-BapjZGRO.js";import{a as Je}from"./axios-B4HuQH-i.js";import{z as l}from"./zod-Y5dSNMtF.js";import{h as Xe}from"./moment-CNBjaTJc.js";import"./classnames-BaEkKJlL.js";import"./scheduler-DTKAQvWo.js";import"./@remix-run-CPHcqyyx.js";import"./rc-util-C7705Oj_.js";import"./@babel-D4-ut-Uz.js";import"./rc-resize-observer-B6_Tj1-Q.js";import"./resize-observer-polyfill-BT-ZEh6l.js";import"./rc-motion-C1KiqwsE.js";import"./rc-overflow-bPcnyqg5.js";import"./rc-picker-M4028Ejg.js";import"./@rc-component-DkdjcAXV.js";import"./rc-tabs-DLe2bHTq.js";import"./rc-dropdown-Cq_zp985.js";import"./rc-menu-iHApGxUz.js";import"./rc-select-By_rEHyQ.js";import"./rc-virtual-list-MHoChsUk.js";import"./rc-input-number-B4gt17nH.js";import"./rc-input-CK5FyHxW.js";import"./@ctrl-YIyChsxa.js";import"./rc-field-form-DLWfUEiy.js";import"./scroll-into-view-if-needed-C9t9fFH4.js";import"./compute-scroll-into-view-DWa9QgjM.js";import"./rc-dialog-D9zpP1gB.js";import"./rc-notification-C2jgTedp.js";import"./rc-switch-37w2GYbv.js";import"./rc-table-CmrdeZr-.js";import"./rc-tree-DVmHk75h.js";import"./rc-checkbox-D-wDgNrR.js";import"./rc-tooltip-BlYmnEaN.js";import"./rc-pagination-DWDFoAqY.js";import"./throttle-debounce-CXyDweCD.js";import"./rc-textarea-DTG7v55m.js";import"./@emotion-A5AG4Kgo.js";import"./stylis-1ato7xL_.js";import"./@kurkle-C2iixY9X.js";(function(){const r=document.createElement("link").relList;if(!(r&&r.supports&&r.supports("modulepreload"))){for(const t of document.querySelectorAll('link[rel="modulepreload"]'))a(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const n of s.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0})}function a(t){if(t.ep)return;t.ep=!0;const s=function(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}(t);fetch(t.href,s)}})();const{Header:Ze}=_,et=()=>e.jsx(Ze,{className:"site-layout-background",style:{padding:0},children:e.jsx("h1",{style:{textAlign:"left",paddingLeft:"20px"},children:"眾資成城-在你心愛的餐廳成為合夥人"})}),{Sider:tt}=_,at=[{key:"/",icon:e.jsx(Oe,{}),label:e.jsx(z,{to:"/",children:"首頁"})},{key:"/profile",icon:e.jsx(ue,{}),label:e.jsx(z,{to:"/profile",children:"會員管理"})},{key:"/raising-deals",icon:e.jsx(Pe,{}),label:e.jsx(z,{to:"/raising-deals",children:"募集交易管理"})},{key:"/announcement",icon:e.jsx(De,{}),label:e.jsx(z,{to:"/announcement",children:"公告活動管理"})},{key:"/settings",icon:e.jsx(qe,{}),label:e.jsx(z,{to:"/settings",children:"設定"})}],rt=()=>{const r=we().pathname;return e.jsx(tt,{children:e.jsx(fe,{theme:"dark",mode:"inline",items:at,selectedKeys:[r]})})},{Content:st}=_,nt=({children:r})=>e.jsxs(_,{style:{minHeight:"100vh"},children:[e.jsx(rt,{}),e.jsxs(_,{className:"site-layout",children:[e.jsx(et,{}),e.jsx(st,{style:{margin:"16px"},children:e.jsx("div",{style:{padding:24,background:"#fff"},children:r})})]})]});W.register(te,ae,Ye,Ne,re,Y,N);const it=()=>e.jsx($e,{data:{labels:["一月","二月","三月","四月","五月","六月","七月"],datasets:[{label:"交易量",data:[65,59,80,81,56,55,40],fill:!1,borderColor:"rgba(75,192,192,1)",tension:.1}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"折線圖示例"}}}});W.register(Ke,Y,N);const lt=()=>e.jsx(We,{data:{labels:["會員數量","專案量","系統消息"],datasets:[{label:"數量",data:[1234,5e3,321],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)"],borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"會員數量、專案量和系統消息的圓餅圖"}}}});W.register(te,ae,pe,re,Y,N);const ot=()=>e.jsx(me,{data:{labels:["台灣料理","韓式料理","日本料理","美式料理","泰式料理"],datasets:[{label:"料理數量",data:[12,19,3,5,2],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)","rgba(75, 192, 192, 0.2)","rgba(153, 102, 255, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)"],borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"各類料理數量的柱狀圖"}}}});W.register(te,ae,pe,re,Y,N);const dt=()=>e.jsx(me,{data:{labels:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],datasets:[{label:"收入",data:[5e3,6e3,7e3,8e3,7500,8500,9e3,9500,1e4,10500,11e3,11500],backgroundColor:"rgba(75, 192, 192, 0.2)",borderColor:"rgba(75, 192, 192, 1)",borderWidth:1},{label:"支出",data:[3e3,4e3,3500,4500,4e3,5e3,5500,6e3,6500,7e3,7500,8e3],backgroundColor:"rgba(255, 99, 132, 0.2)",borderColor:"rgba(255, 99, 132, 1)",borderWidth:1}]},options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"月財政報表"}}}}),ct=()=>e.jsxs("div",{children:[e.jsxs(H,{gutter:16,children:[e.jsx(O,{span:8,children:e.jsxs(J,{style:{display:"flex",alignItems:"center",padding:0},styles:{body:{display:"flex",alignItems:"center",padding:"16px",width:"100%"}},children:[e.jsx("div",{style:{backgroundColor:"#1890ff",padding:"16px",color:"#fff",marginRight:"auto"},children:e.jsx(ue,{style:{fontSize:"24px"}})}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{style:{fontSize:"24px",color:"#1890ff"},children:"1234"}),e.jsx("div",{children:"會員總量"})]})]})}),e.jsx(O,{span:8,children:e.jsxs(J,{style:{display:"flex",alignItems:"center",padding:0},styles:{body:{display:"flex",alignItems:"center",padding:"16px",width:"100%"}},children:[e.jsx("div",{style:{backgroundColor:"#52c41a",padding:"16px",color:"#fff",marginRight:"auto"},children:e.jsx(ze,{style:{fontSize:"24px"}})}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{style:{fontSize:"24px",color:"#52c41a"},children:"321"}),e.jsx("div",{children:"系統消息"})]})]})}),e.jsx(O,{span:8,children:e.jsxs(J,{style:{display:"flex",alignItems:"center",padding:0},styles:{body:{display:"flex",alignItems:"center",padding:"16px",width:"100%"}},children:[e.jsx("div",{style:{backgroundColor:"#f5222d",padding:"16px",color:"#fff",marginRight:"auto"},children:e.jsx(Ae,{style:{fontSize:"24px"}})}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("div",{style:{fontSize:"24px",color:"#f5222d"},children:"5000"}),e.jsx("div",{children:"專案總量"})]})]})})]}),e.jsxs(H,{children:[e.jsx(O,{span:12,children:e.jsx(it,{})}),e.jsx(O,{span:6,children:e.jsx(lt,{})})]}),e.jsxs(H,{children:[e.jsx(O,{span:12,children:e.jsx(ot,{})}),e.jsx(O,{span:12,children:e.jsx(dt,{})})]})]}),ut=({setSearch:r,isLoading:a})=>e.jsx(e.Fragment,{children:e.jsx(le.Search,{disabled:a,onSearch:t=>{console.log("value:",t),r(t)},size:"large",placeholder:"搜尋",enterButton:!0,allowClear:!0})}),P=class P{constructor(){}static getInstance(){return P.instance||(P.instance=new P),P.instance}setItem(a,t){localStorage.setItem(a,t)}getItem(a){return localStorage.getItem(a)}removeItem(a){localStorage.removeItem(a)}clear(){localStorage.clear()}};se(P,"instance");let ee=P;const X=ee.getInstance(),mt=({data:r,name:a,columns:t,isLoading:s,setSearch:n,currentPage:i,pageSize:d,total:p,handlePageChange:y,children:k})=>{const x=t.map(o=>o.key),[v,C]=c.useState(X.getItem(`${a}filteredColumns`)?JSON.parse(X.getItem(`${a}filteredColumns`)):x),L=t.map(({key:o,title:u})=>({label:u,value:o})),S=c.useMemo(()=>{const o=t.filter(u=>v.includes(u.key));return X.setItem(`${a}filteredColumns`,JSON.stringify(v)),o},[t,v,a]).map(o=>({...o,sorter:(u,h)=>typeof u[o.key]=="number"&&typeof h[o.key]=="number"?u[o.key]-h[o.key]:String(u[o.key]).localeCompare(String(h[o.key]))}));return e.jsxs(e.Fragment,{children:[e.jsx(ke,{children:a}),e.jsxs(oe,{direction:"vertical",size:"large",children:[e.jsx(ut,{isLoading:s,setSearch:n}),k,e.jsx(ve.Group,{disabled:s,value:v,options:L,onChange:o=>{C(o)}})]}),e.jsx(Se,{columns:S,dataSource:r.map((o,u)=>({...o,key:u})),loading:s,style:{marginTop:24},pagination:{current:i,pageSize:d,total:p,onChange:y}})]})},{Option:pt}=de,gt=({options:r=[],name:a})=>{const{control:t}=V();return e.jsx(K,{name:a,control:t,render:({field:s,fieldState:{error:n,isTouched:i}})=>e.jsx(M.Item,{validateStatus:n&&i?"error":"",help:n&&i?n.message:"",children:e.jsx(de,{...s,onChange:d=>s.onChange(d),value:s.value,children:r.map(d=>e.jsx(pt,{value:d.value,children:d.label},d.value))})})})},xt=({options:r=[],name:a})=>{const{control:t}=V();return e.jsx(K,{name:a,control:t,render:({field:s,fieldState:{error:n,isTouched:i}})=>e.jsx(M.Item,{validateStatus:n&&i?"error":"",help:n&&i?n.message:"",children:e.jsx(T.Group,{...s,options:r,onChange:d=>s.onChange(d.target.value),value:s.value})})})},ht=({name:r,required:a=!1})=>{const{control:t}=V();return e.jsx(K,{name:r,control:t,render:({field:s})=>e.jsx(M.Item,{required:a,children:e.jsx(Ie,{...s,style:{width:"100%"},value:s.value?w(s.value):null,presets:[{label:"1960",value:w().year(1960)},{label:"1970",value:w().year(1970)},{label:"1980",value:w().year(1980)},{label:"1990",value:w().year(1990)},{label:"2000",value:w().year(2e3)},{label:"2010",value:w().year(2010)},{label:"2020",value:w().year(2020)}],onChange:n=>{s.onChange(n?n.format("YYYY-MM-DD"):null)}})})})},bt=be.memo(({name:r="",label:a,required:t=!1,type:s="text",options:n=[]})=>{if(!s)throw new Error(`Invalid type: ${s}. Expected 'text'.`);const{control:i}=V(),d=p=>{switch(s){case"number":return e.jsx(Ce,{...p,style:{width:"100%"}});case"select":return e.jsx(gt,{name:r,label:a,required:t,options:n});case"radio":return e.jsx(xt,{name:r,required:t,options:n,field:p,label:a});case"date":return e.jsx(ht,{name:r,label:a,required:t});default:return e.jsx(le,{...p,type:s})}};return e.jsx(K,{name:r,control:i,render:({field:p,fieldState:{error:y,isTouched:k}})=>e.jsx(M.Item,{label:a,required:t,validateStatus:y&&k?"error":"",help:y&&k?y.message:"",children:d(p)})})}),jt=({formItems:r,initialValues:a})=>e.jsx(M,{layout:"vertical",autoComplete:"off",initialValues:a,children:r.map(t=>e.jsx(bt,{...t},t.name))}),yt=({showModal:r,btnTitle:a,isLoading:t})=>e.jsx(Z,{disabled:t,type:"primary",onClick:r,icon:e.jsx(Te,{}),children:a}),ft=({btnTitle:r,formItems:a,initialValues:t,createData:s,updateData:n,dialogState:i,updateIsOpen:d,isLoading:p})=>{const{formState:{isValid:y,isDirty:k},reset:x,handleSubmit:v,trigger:C}=V(),[L,S]=c.useState(!1),[o,u]=c.useState(!1);c.useEffect(()=>{S(L)},[y,k,L]),c.useEffect(()=>{i.currentItem?x(i.currentItem):x(t)},[i.currentItem,x,t]);const h=c.useCallback(()=>{u(!1),d({isOpen:!1,currentItem:null,isEdit:!1}),x(),S(!1)},[u,d,x,S]),B=c.useCallback(()=>{h()},[h]),F=c.useCallback(()=>{S(!1),u(!1)},[]),q=c.useCallback(async g=>{var b;u(!0),i.currentItem?n({id:(b=i.currentItem)==null?void 0:b.id,...g},{onSuccess:B,onError:F}):s(g,{onSuccess:B,onError:F})},[s,B,F,i.currentItem,n]),m=c.useMemo(()=>e.jsx(jt,{formItems:a,initialValues:t}),[a,t]);return e.jsxs(e.Fragment,{children:[e.jsx(yt,{isLoading:p,showModal:()=>{d({isOpen:!0,currentItem:null,isEdit:!1}),C(),x(t),console.log("reset:",t)},btnTitle:r}),e.jsx(ce,{title:i.isEdit?"編輯資料":"新增資料",cancelText:"取消",okText:"確定",onOk:async()=>{await C()&&v(q)()},maskClosable:!1,open:i.isOpen,onCancel:()=>{d({isOpen:!1,currentItem:null,isEdit:!1}),x()},okButtonProps:{disabled:!(y&&k)||o},cancelButtonProps:{disabled:o},children:m})]})};function I(r,a,t){["新增資料成功","新增資料失敗","修改資料成功","修改資料失敗","刪除資料成功","刪除資料失敗","資料格式無效","黑名單成功","黑名單失敗"].includes(t);const s=t;Le[r]({message:a,description:s})}function ge(r,a){const t=r.safeParse(a);if(!t.success)throw I("error","失敗","資料格式無效"),console.error("資料格式無效zod",t.error),new Error("資料格式無效");return t.data}const $=Je.create({baseURL:"https://foodiefund.onrender.com/v1/api",headers:{"Content-Type":"application/json"}}),D=l.object({_id:l.string(),name:l.string().nonempty("姓名不能為空"),email:l.string().nonempty("電子郵箱不能為空").email("電子郵箱格式錯誤"),phone:l.string().optional().refine(r=>!r||/^\d{10}$/.test(r),{message:"電話號碼必須是10位數字或為空"}),address:l.string().optional(),dateOfBirth:l.string().optional(),role:l.string().optional(),remarks:l.string().optional(),isBlackListed:l.boolean().optional()}),kt=D.omit({role:!0,isBlackListed:!0}).extend({password:l.string().nonempty("密碼不能為空").min(8,"密碼不能少於8個字")});l.array(D),D.pick({_id:!0}),D.pick({_id:!0,isBlackListed:!0}),l.object({keyWord:l.string().optional(),page:l.number().optional(),limit:l.number().optional(),isBlackListed:l.union([l.number(),l.undefined()]).optional(),role:l.string().optional()});const vt=l.object({data:l.array(D),message:l.string(),pagination:l.object({current_page:l.number(),has_next:l.boolean(),has_pre:l.boolean(),total:l.number(),total_pages:l.number()})}),St=r=>Ue({queryKey:["Account",r],queryFn:async()=>{const a=await(({keyWord:s="",page:n,limit:i=10,isBlackListed:d,role:p=""})=>$.get("/admin/account",{params:{keyWord:s,page:n,limit:i,isBlackListed:d,role:p}}))(r),t=ge(vt,a.data);return console.log("get users success",t),t}}),It=()=>{const r=Q();return R({mutationFn:async a=>{return await(t=a,$.post("/auth/sign_up",t));var t},onSuccess:()=>{r.invalidateQueries({queryKey:["Account"]}),I("success","新增成功","新增資料成功")},onError:a=>{var t,s;console.error("Error creating user:",(t=a.response)==null?void 0:t.data.message),I("error","新增失敗",(s=a.response)==null?void 0:s.data.message)}})},Ct=()=>{const r=Q();return R({mutationFn:async a=>{return await(t=a,console.log(t),$.put(`/admin/account/${t._id}`,t));var t},onSuccess:()=>{r.invalidateQueries({queryKey:["Account"]}),I("success","修改成功","修改資料成功")},onError:a=>{var t,s;console.error("Error creating user:",(t=a.response)==null?void 0:t.data.message),I("error","修改失敗",(s=a.response)==null?void 0:s.data.message)}})},Lt=()=>{const r=Q();return R({mutationFn:async a=>{return await(t=a,$.delete(`/Admin/account/${t}`));var t},onSuccess:()=>{r.invalidateQueries({queryKey:["Account"]}),I("success","刪除成功","刪除資料成功")},onError:a=>{var t,s;console.error("Error creating user:",(t=a.response)==null?void 0:t.data.message),I("error","刪除失敗",(s=a.response)==null?void 0:s.data.message)}})},Bt=()=>{const r=Q();return R({mutationFn:async a=>{return await(t=a,$.patch(`/admin/account/blacklist/${t._id}`,{isBlackListed:t.isBlackListed===!0?1:0}));var t},onSuccess:()=>{r.invalidateQueries({queryKey:["Account"]}),I("success","修改成功","修改成功")},onError:a=>{var t,s;console.error("Error creating user:",(t=a.response)==null?void 0:t.data.message),I("error","修改失敗",(s=a.response)==null?void 0:s.data.message)}})},Et=()=>{const{currentPage:r,pageSize:a,handlePageChange:t}=((h=1,B=10)=>{const[F,q]=c.useState(h),[m,g]=c.useState(B);return{currentPage:F,pageSize:m,handlePageChange:(b,f)=>{q(b),f&&g(f)}}})(),[s,n]=c.useState(void 0),[i,d]=c.useState(""),[p,y]=c.useState({isOpen:!1,currentItem:null,isEdit:!1}),[k,x]=c.useState(""),v=St({keyWord:k,page:r,limit:a,isBlackListed:s,role:i}),{mutate:C}=It(),{mutate:L}=Ct(),{mutate:S}=Lt(),{mutate:o}=Bt(),u=[{name:"name",label:"姓名",required:!0,type:"text"},{name:"email",label:"信箱",type:"email",required:!0},{name:"password",label:"密碼",type:"password",required:!0},{name:"dateOfBirth",label:"生日",type:"date"},{name:"phone",label:"電話",type:"text"},{name:"address",label:"地址",type:"text"},{name:"remarks",label:"備註",type:"text"}];return{getUsersQuery:v,dialogState:p,updateIsOpen:h=>{y(h)},setSearch:x,createData:C,updateData:L,deleteData:S,blackList:o,initialValues:c.useMemo(()=>({_id:"",name:"",email:"",password:"",date_of_birth:"",phone:"",address:"",remarks:""}),[]),formItems:p.isEdit?[...u.filter(h=>h.name!=="password"),{name:"role",label:"角色",type:"select",options:[{label:"user",value:"user"},{label:"admin",value:"admin"}]}]:u,handlePageChange:t,currentPage:r,pageSize:a,setBlackListedFilter:n,blackListedFilter:s,setIsAdminFilter:d}},{confirm:wt}=ce,Ft=[{value:void 0,label:"全部"},{value:1,label:"黑名單"},{value:0,label:"白名單"}],Ot=[{value:"",label:"全部"},{value:"user",label:"User"},{value:"admin",label:"Admin"}],Pt=({setBlackListedFilter:r,setIsAdminFilter:a,isLoading:t})=>e.jsxs(Ee,{vertical:!0,gap:"middle",children:[e.jsx(T.Group,{disabled:t,defaultValue:void 0,buttonStyle:"solid",onChange:s=>{r(s.target.value)},children:Ft.map(s=>e.jsx(T.Button,{value:s.value,children:s.label},String(s.value??"all")))}),e.jsx(T.Group,{disabled:t,defaultValue:"",buttonStyle:"solid",onChange:s=>{a(s.target.value)},children:Ot.map(s=>e.jsx(T.Button,{value:s.value,children:s.label},String(s.value)))})]}),Dt=()=>{var q;const{getUsersQuery:r,setSearch:a,createData:t,updateData:s,deleteData:n,initialValues:i,formItems:d,handlePageChange:p,currentPage:y,pageSize:k,dialogState:x,updateIsOpen:v,setBlackListedFilter:C,blackListedFilter:L,blackList:S,setIsAdminFilter:o}=Et(),u=Qe({mode:"all",criteriaMode:"all",resolver:x.isEdit?ie(D):ie(kt)}),[h,B]=c.useState([]);((m,g)=>{var b;c.useEffect(()=>{var f;(f=m.data)!=null&&f.data&&g(m.data.data)},[(b=m.data)==null?void 0:b.data,g])})(r,B);const F=((m,g,b,f,E)=>[{title:"姓名",dataIndex:"name",key:"name",sorter:!0,render:j=>e.jsxs("a",{children:[" ",j]})},{title:"信箱",dataIndex:"email",key:"email",sorter:!0},{title:"電話",dataIndex:"phone",key:"phone",sorter:!0},{title:"地址",dataIndex:"address",key:"address",sorter:!0},{title:"生日",dataIndex:"dateOfBirth",key:"dateOfBirth",sorter:!0,render:j=>Xe(j).format("YYYY-MM-DD")},{title:"角色",dataIndex:"role",key:"role",sorter:!0,render:j=>j==="user"?e.jsx(ne,{color:"success",children:j}):e.jsx(ne,{color:"error",children:j})},{title:"備註",dataIndex:"remarks",key:"remarks",sorter:!0},{title:"操作",dataIndex:"",key:"",render:j=>e.jsxs(oe,{children:[e.jsx(Z,{disabled:E,icon:e.jsx(_e,{}),onClick:()=>m(j)}),e.jsx(Z,{disabled:E,danger:!0,icon:e.jsx(Me,{}),onClick:()=>g(j)}),b===void 0?null:e.jsx(Be,{disabled:E,checkedChildren:"黑名單",unCheckedChildren:"白名單",checked:j.isBlackListed===!0,onChange:U=>f(U,j),loading:E})]})}])(m=>{console.log(m);const g=ge(D,m);v({isOpen:!0,currentItem:g,isEdit:!0})},m=>{(({_id:g,title:b,text:f,deleteData:E})=>{wt({title:`您確定刪除該${b}資料嗎?`,icon:e.jsx(Ve,{style:{color:"#ff4d4f"}}),content:f,okText:"刪除",okType:"danger",cancelText:"取消",onOk(){E(g)},onCancel(){console.log("Cancel")}})})({title:m.name,_id:m._id,deleteData:n})},L,(m,g)=>{((b,f,E,j)=>{E(U=>U.map(G=>G._id===f._id?{...G,isBlackListed:b}:G)),j({_id:f._id,isBlackListed:b})})(m,g,B,S)},r.isFetching);return e.jsx(Re,{...u,children:e.jsxs("div",{children:[e.jsx(ft,{btnTitle:"新增資料",formItems:d,initialValues:i,createData:t,updateData:s,dialogState:x,updateIsOpen:v,isLoading:r.isFetching}),e.jsx(mt,{name:"會員列表",data:h??[],columns:F,isLoading:r.isFetching,setSearch:a,currentPage:y,pageSize:k,total:((q=r.data)==null?void 0:q.pagination.total)??0,handlePageChange:p,children:e.jsx(Pt,{setBlackListedFilter:C,setIsAdminFilter:o,isLoading:r.isFetching})})]})})},qt=()=>e.jsx("div",{children:"Settings Page Content"}),zt=()=>e.jsx("h1",{children:"404 - Page Not Found"}),At=()=>e.jsx("div",{children:"blockList"}),Tt=()=>e.jsx(ye,{basename:"/foodiefund-admin",children:e.jsx(nt,{children:e.jsxs(Fe,{children:[e.jsx(A,{path:"/",element:e.jsx(ct,{})}),e.jsx(A,{path:"/profile",element:e.jsx(Dt,{})}),e.jsx(A,{path:"blockList",element:e.jsx(At,{})}),e.jsx(A,{path:"/settings",element:e.jsx(qt,{})}),e.jsx(A,{path:"*",element:e.jsx(zt,{})})]})})}),_t=new Ge,Mt=document.getElementById("root");je.createRoot(Mt).render(e.jsx(He,{client:_t,children:e.jsx(c.StrictMode,{children:e.jsx(Tt,{})})}));
