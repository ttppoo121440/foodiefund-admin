import{k as K,g as b,e as x,c as h}from"./@babel-D4-ut-Uz.js";import{r,a as Ue}from"./react-Bi3d65_o.js";import{c as ae}from"./classnames-BaEkKJlL.js";import{R as Re}from"./rc-resize-observer-B6_Tj1-Q.js";import{q as Ye,i as Be,u as He}from"./rc-util-C7705Oj_.js";import{r as Je}from"./react-dom-DttoD7qq.js";var Qe=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],w=void 0;function Ze(e,l){var o=e.prefixCls,s=e.invalidate,f=e.item,i=e.renderItem,u=e.responsive,R=e.responsiveDisabled,m=e.registerSize,C=e.itemKey,D=e.className,B=e.style,H=e.children,J=e.display,d=e.order,P=e.component,S=P===void 0?"div":P,M=K(e,Qe),v=u&&!J;function V(p){m(C,p)}r.useEffect(function(){return function(){V(null)}},[]);var W,F=i&&f!==w?i(f):H;s||(W={opacity:v?0:1,height:v?0:w,overflowY:v?"hidden":w,order:u?d:w,pointerEvents:v?"none":w,position:v?"absolute":w});var G={};v&&(G["aria-hidden"]=!0);var E=r.createElement(S,b({className:ae(!s&&o,D),style:x(x({},W),B)},G,M,{ref:l}),F);return u&&(E=r.createElement(Re,{onResize:function(p){V(p.offsetWidth)},disabled:R},E)),E}var _=r.forwardRef(Ze);function $e(){var e=r.useRef(null);return function(l){e.current||(e.current=[],function(o){if(typeof MessageChannel>"u")Ye(o);else{var s=new MessageChannel;s.port1.onmessage=function(){return o()},s.port2.postMessage(void 0)}}(function(){Je.unstable_batchedUpdates(function(){e.current.forEach(function(o){o()}),e.current=null})})),e.current.push(l)}}function A(e,l){var o=r.useState(l),s=h(o,2),f=s[0],i=s[1];return[f,Be(function(u){e(function(){i(u)})})]}_.displayName="Item";var Y=Ue.createContext(null),en=["component"],nn=["className"],tn=["className"],rn=function(e,l){var o=r.useContext(Y);if(!o){var s=e.component,f=s===void 0?"div":s,i=K(e,en);return r.createElement(f,b({},i,{ref:l}))}var u=o.className,R=K(o,nn),m=e.className,C=K(e,tn);return r.createElement(Y.Provider,{value:null},r.createElement(_,b({ref:l,className:ae(u,m)},R,C)))},Ce=r.forwardRef(rn);Ce.displayName="RawItem";var an=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],Ie="responsive",we="invalidate";function on(e){return"+ ".concat(e.length," ...")}function sn(e,l){var o=e.prefixCls,s=o===void 0?"rc-overflow":o,f=e.data,i=f===void 0?[]:f,u=e.renderItem,R=e.renderRawItem,m=e.itemKey,C=e.itemWidth,D=C===void 0?10:C,B=e.ssr,H=e.style,J=e.className,d=e.maxCount,P=e.renderRest,S=e.renderRawRest,M=e.suffix,v=e.component,V=v===void 0?"div":v,W=e.itemComponent,F=e.onVisibleChange,G=K(e,an),E=B==="full",p=$e(),xe=A(p,null),oe=h(xe,2),j=oe[0],Se=oe[1],g=j||0,Me=A(p,new Map),se=h(Me,2),le=se[0],ze=se[1],ke=A(p,0),ue=h(ke,2),Ae=ue[0],Ke=ue[1],_e=A(p,0),ce=h(_e,2),O=ce[0],De=ce[1],Pe=A(p,0),fe=h(Pe,2),X=fe[0],Ve=fe[1],We=r.useState(null),me=h(We,2),Q=me[0],de=me[1],Fe=r.useState(null),ve=h(Fe,2),q=ve[0],Ge=ve[1],I=r.useMemo(function(){return q===null&&E?Number.MAX_SAFE_INTEGER:q||0},[q,j]),je=r.useState(!1),pe=h(je,2),Oe=pe[0],Xe=pe[1],Z="".concat(s,"-item"),ye=Math.max(Ae,O),$=d===Ie,y=i.length&&$,he=d===we,qe=y||typeof d=="number"&&i.length>d,N=r.useMemo(function(){var n=i;return y?n=j===null&&E?i:i.slice(0,Math.min(i.length,g/D)):typeof d=="number"&&(n=i.slice(0,d)),n},[i,D,j,d,y]),ee=r.useMemo(function(){return y?i.slice(I+1):i.slice(N.length)},[i,N,y,I]),L=r.useCallback(function(n,t){var a;return typeof m=="function"?m(n):(a=m&&(n==null?void 0:n[m]))!==null&&a!==void 0?a:t},[m]),Le=r.useCallback(u||function(n){return n},[u]);function T(n,t,a){(q!==n||t!==void 0&&t!==Q)&&(Ge(n),a||(Xe(n<i.length-1),F==null||F(n)),t!==void 0&&de(t))}function Ee(n,t){ze(function(a){var c=new Map(a);return t===null?c.delete(n):c.set(n,t),c})}function ne(n){return le.get(L(N[n],n))}He(function(){if(g&&typeof ye=="number"&&N){var n=X,t=N.length,a=t-1;if(!t)return void T(0,null);for(var c=0;c<t;c+=1){var k=ne(c);if(E&&(k=k||0),k===void 0){T(c-1,void 0,!0);break}if(n+=k,a===0&&n<=g||c===a-1&&n+ne(a)<=g){T(a,null);break}if(n+ye>g){T(c-1,n-k-X+O);break}}M&&ne(0)+X>g&&de(null)}},[g,le,O,X,L,N]);var ge=Oe&&!!ee.length,Ne={};Q!==null&&y&&(Ne={position:"absolute",left:Q,top:0});var te,z={prefixCls:Z,responsive:y,component:W,invalidate:he},Te=R?function(n,t){var a=L(n,t);return r.createElement(Y.Provider,{key:a,value:x(x({},z),{},{order:t,item:n,itemKey:a,registerSize:Ee,display:t<=I})},R(n,t))}:function(n,t){var a=L(n,t);return r.createElement(_,b({},z,{order:t,key:a,item:n,renderItem:Le,itemKey:a,registerSize:Ee,display:t<=I}))},be={order:ge?I:Number.MAX_SAFE_INTEGER,className:"".concat(Z,"-rest"),registerSize:function(n,t){De(t),Ke(O)},display:ge};if(S)S&&(te=r.createElement(Y.Provider,{value:x(x({},z),be)},S(ee)));else{var re=P||on;te=r.createElement(_,b({},z,be),typeof re=="function"?re(ee):re)}var ie=r.createElement(V,b({className:ae(!he&&s,J),style:H,ref:l},G),N.map(Te),qe?te:null,M&&r.createElement(_,b({},z,{responsive:$,responsiveDisabled:!y,order:I,className:"".concat(Z,"-suffix"),registerSize:function(n,t){Ve(t)},display:!0,style:Ne}),M));return $&&(ie=r.createElement(Re,{onResize:function(n,t){Se(t.clientWidth)},disabled:!y},ie)),ie}var U=r.forwardRef(sn);U.displayName="Overflow",U.Item=Ce,U.RESPONSIVE=Ie,U.INVALIDATE=we;export{U as F};
